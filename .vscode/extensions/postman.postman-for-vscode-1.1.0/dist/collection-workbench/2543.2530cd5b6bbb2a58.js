"use strict";(self.webpackChunkcollection_workbench=self.webpackChunkcollection_workbench||[]).push([[2543],{22543:(e,t,n)=>{const r=n(93181);e.exports=r},93181:(e,t)=>{let n={},r={},i={},l={},s={},o={},a={},u={},d={},f={},c={},h={},_={},g={},p={},y={},m={},v={},x={},C={},T={},N={},S={},k={},b={},E={},w={},O={},D={},M={},A={},P={},I={},L={},R={};function F(e){let t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let B="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,W=B&&"documentMode"in document?document.documentMode:null,z=B&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),K=B&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),$=!(!B||!("InputEvent"in window)||W)&&"getTargetRanges"in new window.InputEvent("input"),U=B&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),J=B&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Y=B&&/^(?=.*Chrome).*/i.test(navigator.userAgent),V=B&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Y,H=U||J||V?" ":"​",G=K?" ":H,j=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,X=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,q={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Q={directionless:1,unmergeable:2},Z={center:2,end:6,justify:4,left:1,right:3,start:5},ee={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},te={normal:0,segmented:2,token:1},ne={0:"normal",2:"segmented",1:"token"},re=!1,ie=0;function le(e){ie=e.timeStamp}function se(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function oe(e,t,n){re=!0;let r=100<performance.now()-ie;try{br(e,(()=>{let i=tr()||function(e){return e.getEditorState().read((()=>{let e=tr();return null!==e?e.clone():null}))}(e);var l=new Map,s=e.getRootElement(),o=e._editorState,a=e._blockCursorElement;let u=!1,d="";for(var f=0;f<t.length;f++){var c=t[f],h=c.type,_=c.target,g=Me(_,o);if(!(null===g&&_!==s||wr(g)))if("characterData"===h){if(c=r&&Dn(g))e:{h=_;var p=g;if(Wn(c=i)){var y=c.anchor.getNode();if(y.is(p)&&c.format!==y.getFormat()){c=!1;break e}}c=3===h.nodeType&&p.isAttached()}c&&(h=c=null,null!==(p=st(e._window))&&p.anchorNode===_&&(c=p.anchorOffset,h=p.focusOffset),null!==(_=_.nodeValue)&&Ke(g,_,c,h,!1))}else if("childList"===h){for(u=!0,h=c.addedNodes,p=0;p<h.length;p++){var m=De(y=h[p]),v=y.parentNode;null==v||y===a||null!==m||"BR"===y.nodeName&&se(y,v,e)||(K&&(m=y.innerText||y.nodeValue)&&(d+=m),v.removeChild(y))}if(0<(h=(c=c.removedNodes).length)){for(p=0,y=0;y<h;y++)("BR"===(v=c[y]).nodeName&&se(v,_,e)||a===v)&&(_.appendChild(v),p++);h!==p&&(_===s&&(g=o._nodeMap.get("root")),l.set(_,g))}}}if(0<l.size)for(let[t,n]of l)if(Dr(n))for(l=n.getChildrenKeys(),s=t.firstChild,o=0;o<l.length;o++)null!==(a=e.getElementByKey(l[o]))&&(null==s?(t.appendChild(a),s=a):s!==a&&t.replaceChild(a,s),s=s.nextSibling);else Dn(n)&&n.markDirty();if(0<(l=n.takeRecords()).length){for(s=0;s<l.length;s++)for(o=(a=l[s]).addedNodes,a=a.target,f=0;f<o.length;f++)null==(_=(g=o[f]).parentNode)||"BR"!==g.nodeName||se(g,a,e)||_.removeChild(g);n.takeRecords()}null!==i&&(u&&(i.dirty=!0,Le(i)),K&&He(e)&&i.insertRawText(d))}))}finally{re=!1}}function ae(e){let t=e._observer;null!==t&&oe(e,t.takeRecords(),t)}function ue(e){0===ie&&Qe(e).addEventListener("textInput",le,!0),e._observer=new MutationObserver(((t,n)=>{oe(e,t,n)}))}function de(e,t){let n=e.__mode,r=e.__format;e=e.__style;let i=t.__mode,l=t.__format;return t=t.__style,!(null!==n&&n!==i||null!==r&&r!==l||null!==e&&e!==t)}function fe(e,t){let n=e.mergeWithSibling(t),r=yr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function ce(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&Dn(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){de(t,e)&&(e=fe(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&Dn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){de(e,n)&&fe(e,n);break}n.remove()}}}function he(e){return _e(e.anchor),_e(e.focus),e}function _e(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),Dn(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!Dr(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let ge=1,pe="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function ye(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return wr(Me(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function me(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!ye(t)&&ve(t)===e}catch(e){return!1}}function ve(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=Xe(e)}return null}function xe(e){return e.isToken()||e.isSegmented()}function Ce(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function Te(e,t,n){return e&(t=q[t])&&(null===n||0==(n&t))?e^t:null===n||n&t?e|t:e}function Ne(e){return Dn(e)||_n(e)||wr(e)}function Se(e,t){if(null!=t)e.__key=t;else{gr(),99<cr&&F(14),t=yr();var n=pr(),r=""+ge++;n._nodeMap.set(r,e),Dr(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function ke(e){var t=e.getParent();if(null!==t){let i=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n)if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;i.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,i.__next=null),t.__size--,i.__parent=null}}function be(e){99<cr&&F(14);var t=e.getLatest(),n=t.__parent,r=pr();let i=yr(),l=r._nodeMap;if(r=i._dirtyElements,null!==n)for(;null!==n&&!r.has(n);){let e=l.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,i._dirtyType=1,Dr(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function Ee(e){gr();var t=yr();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&null!==(t=Oe(n))&&t.getWritable(),null!==e&&null!==(e=Oe(e))&&e.getWritable())}function we(){return _r()?null:yr()._compositionKey}function Oe(e,t){return void 0===(e=(t||pr())._nodeMap.get(e))?null:e}function De(e,t){return void 0!==(e=e[`__lexicalKey_${yr()._key}`])?Oe(e,t):null}function Me(e,t){for(;null!=e;){let n=De(e,t);if(null!==n)return n;e=Xe(e)}return null}function Ae(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function Pe(e){return e.read((()=>Ie().getTextContent()))}function Ie(){return pr()._nodeMap.get("root")}function Le(e){gr();let t=pr();null!==e&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function Re(e){var t,n=yr();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=Xe(t)}t=null}return null===t?e===(n=n.getRootElement())?Oe("root"):null:Oe(t)}function Fe(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Be(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function We(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ze(e,t,n){if(null!==(t=st(t._window))){var r=t.anchorNode,{anchorOffset:i,focusOffset:l}=t;null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=Me(r),null!==t&&Dn(r))&&(t===H&&n&&(t=n,l=i=n.length),null!==t&&Ke(r,t,i,l,e))}}function Ke(e,t,n,r,i){let l=e;if(l.isAttached()&&(i||!l.isDirty())){let u=l.isComposing(),d=t;if((u||i)&&t[t.length-1]===H&&(d=t.slice(0,-1)),t=l.getTextContent(),i||d!==t)if(""===d)if(Ee(null),U||J||V)l.remove();else{let e=yr();setTimeout((()=>{e.update((()=>{l.isAttached()&&l.remove()}))}),20)}else{i=l.getParent(),t=nr();var s=l.getTextContentSize(),o=we(),a=l.getKey();l.isToken()||null!==o&&a===o&&!u||Wn(t)&&(null!==i&&!i.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!l.canInsertTextBefore()||t.focus.key===e.__key&&t.focus.offset===s&&!l.canInsertTextAfter())?l.markDirty():(Wn(e=tr())&&null!==n&&null!==r&&(e.setTextNodeRange(l,n,l,r),l.isSegmented()&&(n=On(n=l.getTextContent()),l.replace(n),l=n)),l.setTextContent(d))}}}function $e(){var e=Ie();Le(he(e=e.select(0,e.getChildrenSize())))}function Ue(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let n=e.__lexicalClassNameCache,r=n[t];return void 0!==r?r:"string"==typeof(e=e[t])?(e=e.split(" "),n[t]=e):e}function Je(e,t,n,r,i){0!==n.size&&(n=r.__type,r=r.__key,void 0===(t=t.get(n))&&F(33,n),n=t.klass,void 0===(t=e.get(n))&&(t=new Map,e.set(n,t)),n="destroyed"===(e=t.get(r))&&"created"===i,(void 0===e||n)&&t.set(r,n?"updated":i))}function Ye(e,t,n){let r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function Ve(e,t){var n=e.offset;return"element"===e.type?Ye(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?Ye(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function He(e){return"insertFromPaste"===(e=(e=Qe(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function Ge(e){return!Pr(e)&&!e.isLastChild()&&!e.isInline()}function je(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&F(75,t),e}function Xe(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function qe(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function Qe(e){return null===(e=e._window)&&F(78),e}function Ze(e){for(e=e.getParentOrThrow();null!==e&&!et(e);)e=e.getParentOrThrow();return e}function et(e){return Pr(e)||Dr(e)&&e.isShadowRoot()}function tt(e){return Se(e=e.constructor.clone(e),null),e}function nt(e){var t=yr();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&F(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||F(98),t):e}function rt(e,t){!Pr(e=e.getParent())||Dr(t)||wr(t)||F(99)}function it(e){return(wr(e)||Dr(e)&&!e.canBeEmpty())&&!e.isInline()}function lt(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function st(e){return B?(e||window).getSelection():null}function ot(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),et(e)&&F(102);let r=e=>{const t=e.getParentOrThrow(),i=et(t),l=e!==n||i?tt(e):e;if(i)return e.insertAfter(l),[e,l,l];const[s,o,a]=r(t);return e=e.getNextSiblings(),a.append(l,...e),[s,o,l]},[i,l]=r(n);return[i,l]}function at(e,t){for(;e!==Ie()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function ut(e){let t=[],n=[e];for(;0<n.length;){let r=n.pop();void 0===r&&F(112),Dr(r)&&n.unshift(...r.getChildren()),r!==e&&t.push(r)}return t}function dt(e,t,n,r,i,l){for(e=e.getFirstChild();null!==e;){let s=e.__key;e.__parent===t&&(Dr(e)&&dt(e,s,n,r,i,l),n.has(s)||l.delete(s),i.push(s)),e=e.getNextSibling()}}let ft,ct,ht,_t,gt,pt,yt,mt,vt,xt,Ct="",Tt="",Nt="",St=!1,kt=!1,bt=null;function Et(e,t){let n=yt.get(e);if(null!==t){let n=Kt(e);n.parentNode===t&&t.removeChild(n)}mt.has(e)||ct._keyToDOMMap.delete(e),Dr(n)&&wt(e=Ft(n,yt),0,e.length-1,null),void 0!==n&&Je(xt,ht,_t,n,"destroyed")}function wt(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&Et(n,r)}}function Ot(e,t){e.setProperty("text-align",t)}function Dt(e,t){var n=ft.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function Mt(e,t){e=e.style,0===t?Ot(e,""):1===t?Ot(e,"left"):2===t?Ot(e,"center"):3===t?Ot(e,"right"):4===t?Ot(e,"justify"):5===t?Ot(e,"start"):6===t&&Ot(e,"end")}function At(e,t,n){let r=mt.get(e);void 0===r&&F(60);let i=r.createDOM(ft,ct);var l=ct._keyToDOMMap;if(i["__lexicalKey_"+ct._key]=e,l.set(e,i),Dn(r)?i.setAttribute("data-lexical-text","true"):wr(r)&&i.setAttribute("data-lexical-decorator","true"),Dr(r)){if(e=r.__indent,l=r.__size,0!==e&&Dt(i,e),0!==l){--l,e=Ft(r,mt);var s=Tt;Tt="",Pt(e,r,0,l,i,null),Rt(r,i),Tt=s}0!==(e=r.__format)&&Mt(i,e),r.isInline()||Lt(null,r,i),Ge(r)&&(Ct+="\n\n",Nt+="\n\n")}else l=r.getTextContent(),wr(r)?(null!==(s=r.decorate(ct,ft))&&Wt(e,s),i.contentEditable="false"):Dn(r)&&(r.isDirectionless()||(Tt+=l)),Ct+=l,Nt+=l;return null!==t&&(null!=n||null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),Je(xt,ht,_t,r,"created"),i}function Pt(e,t,n,r,i,l){let s=Ct;for(Ct="";n<=r;++n)At(e[n],i,l);Ge(t)&&(Ct+="\n\n"),i.__lexicalTextContent=Ct,Ct=s+Ct}function It(e,t){return _n(e=t.get(e))||wr(e)&&e.isInline()}function Lt(e,t,n){e=null!==e&&(0===e.__size||It(e.__last,yt)),t=0===t.__size||It(t.__last,mt),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function Rt(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==Tt||n!==bt){let l=""===Tt;if(l)var r=bt;else r=Tt,r=j.test(r)?"rtl":X.test(r)?"ltr":null;if(r!==n){let s=t.classList,o=ft.theme;var i=null!==n?o[n]:void 0;let a=null!==r?o[r]:void 0;void 0!==i&&("string"==typeof i&&(i=i.split(" "),i=o[n]=i),s.remove(...i)),null===r||l&&"ltr"===r?t.removeAttribute("dir"):(void 0!==a&&("string"==typeof a&&(n=a.split(" "),a=o[r]=n),void 0!==a&&s.add(...a)),t.dir=r),kt||(e.getWritable().__dir=r)}bt=r,t.__lexicalDirTextContent=Tt,t.__lexicalDir=r}}function Ft(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&F(101),n.push(e),e=r.__next}return n}function Bt(e,t){var n=yt.get(e),r=mt.get(e);void 0!==n&&void 0!==r||F(61);var i=St||pt.has(e)||gt.has(e);let l=je(ct,e);if(n===r&&!i)return Dr(n)?(void 0!==(r=l.__lexicalTextContent)&&(Ct+=r,Nt+=r),void 0!==(r=l.__lexicalDirTextContent)&&(Tt+=r)):(r=n.getTextContent(),Dn(n)&&!n.isDirectionless()&&(Tt+=r),Nt+=r,Ct+=r),l;if(n!==r&&i&&Je(xt,ht,_t,r,"updated"),r.updateDOM(n,l,ft))return r=At(e,null,null),null===t&&F(62),t.replaceChild(r,l),Et(e,null),r;if(Dr(n)&&Dr(r)){if((e=r.__indent)!==n.__indent&&Dt(l,e),(e=r.__format)!==n.__format&&Mt(l,e),i){e=r,i=Tt,Tt="",t=Ct;var s=n.__size,o=e.__size;if(Ct="",1===s&&1===o){var a=n.__first,u=e.__first;if(a===u)Bt(a,l);else{var d=Kt(a);u=At(u,null,null),l.replaceChild(u,d),Et(a,null)}}else{u=Ft(n,yt);var f=Ft(e,mt);if(0===s)0!==o&&Pt(f,e,0,o-1,l,null);else if(0===o)0!==s&&(wt(u,0,s-1,(a=null==l.__lexicalLineBreak)?null:l),a&&(l.textContent=""));else{var c=u;u=f,f=s-1,s=o-1;let t=l.firstChild,n=0;for(o=0;n<=f&&o<=s;){var h=c[n];let e=u[o];if(h===e)t=zt(Bt(e,l)),n++,o++;else{void 0===a&&(a=new Set(c)),void 0===d&&(d=new Set(u));let r=d.has(h),i=a.has(e);r?(i?((h=je(ct,e))===t?t=zt(Bt(e,l)):(null!=t?l.insertBefore(h,t):l.appendChild(h),Bt(e,l)),n++):At(e,l,t),o++):(t=zt(Kt(h)),Et(h,l),n++)}}d=o>s,(a=n>f)&&!d?Pt(u,e,o,s,l,a=void 0===(a=u[s+1])?null:ct.getElementByKey(a)):d&&!a&&wt(c,n,f,l)}}Ge(e)&&(Ct+="\n\n"),l.__lexicalTextContent=Ct,Ct=t+Ct,Rt(e,l),Tt=i,Pr(r)||r.isInline()||Lt(n,r,l)}Ge(r)&&(Ct+="\n\n",Nt+="\n\n")}else n=r.getTextContent(),wr(r)?null!==(i=r.decorate(ct,ft))&&Wt(e,i):Dn(r)&&!r.isDirectionless()&&(Tt+=n),Ct+=n,Nt+=n;return!kt&&Pr(r)&&r.__cachedText!==Nt&&((r=r.getWritable()).__cachedText=Nt),l}function Wt(e,t){let n=ct._pendingDecorators,r=ct._decorators;if(null===n){if(r[e]===t)return;n=Ae(ct)}n[e]=t}function zt(e){return null!==(e=e.nextSibling)&&e===ct._blockCursorElement&&(e=e.nextSibling),e}function Kt(e){let t=vt.get(e);return void 0===t&&F(75,e),t}let $t=Object.freeze({}),Ut=[["keydown",function(e,t){if(Jt=e.timeStamp,Yt=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:s,metaKey:o,altKey:a}=e;if(!Nr(t,g,e)){if(39!==n||s||o||a)if(39!==n||a||r||!s&&!o)if(37!==n||s||o||a)if(37!==n||a||r||!s&&!o)if(38!==n||s||o)if(40!==n||s||o)if(13===n&&r)qt=!0,Nr(t,T,e);else if(32===n)Nr(t,N,e);else if(z&&s&&79===n)e.preventDefault(),qt=!0,Nr(t,l,!0);else if(13!==n||r)if(z?a||o||!(8===n||72===n&&s):s||a||o||8!==n)if(27===n)Nr(t,k,e);else if(z?r||a||o||!(46===n||68===n&&s):s||a||o||46!==n)if(8===n&&(z?a:s))e.preventDefault(),Nr(t,d,!0);else if(46===n&&(z?a:s))e.preventDefault(),Nr(t,d,!1);else if(z&&o&&8===n)e.preventDefault(),Nr(t,f,!0);else if(z&&o&&46===n)e.preventDefault(),Nr(t,f,!1);else if(66===n&&!a&&(z?o:s))e.preventDefault(),Nr(t,c,"bold");else if(85===n&&!a&&(z?o:s))e.preventDefault(),Nr(t,c,"underline");else if(73===n&&!a&&(z?o:s))e.preventDefault(),Nr(t,c,"italic");else if(9!==n||a||s||o)if(90===n&&!r&&(z?o:s))e.preventDefault(),Nr(t,h,void 0);else{var u=z?90===n&&o&&r:89===n&&s||90===n&&s&&r;u?(e.preventDefault(),Nr(t,_,void 0)):Un(t._editorState._selection)?(u=!r&&67===n&&(z?o:s))?(e.preventDefault(),Nr(t,A,e)):(u=!r&&88===n&&(z?o:s))?(e.preventDefault(),Nr(t,P,e)):65===n&&(z?o:s)&&(e.preventDefault(),t.update((()=>{$e()}))):!K&&65===n&&(z?o:s)&&(e.preventDefault(),t.update((()=>{$e()})))}else Nr(t,E,e);else 46===n?Nr(t,b,e):(e.preventDefault(),Nr(t,i,!1));else 8===n?Nr(t,S,e):(e.preventDefault(),Nr(t,i,!0));else qt=!1,Nr(t,T,e);else Nr(t,C,e);else Nr(t,x,e);else Nr(t,v,e);else Nr(t,m,e);else Nr(t,y,e);else Nr(t,p,e);(s||r||a||o)&&Nr(t,R,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&br(t,(()=>{wr(Me(n))||(Xt=!0)}))}],["compositionstart",function(e,t){br(t,(()=>{let n=tr();if(Wn(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();Ee(r.key),(e.timeStamp<Jt+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&Nr(t,o,G)}}))}],["compositionend",function(e,t){K?Qt=!0:br(t,(()=>{ln(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),br(t,(()=>{var n=tr(),r=e.data,i=rn(e);if(null!=r&&Wn(n)&&en(n,i,r,e.timeStamp,!1)){Qt&&(ln(t,r),Qt=!1);var l=n.anchor,s=l.getNode();if(null===(i=st(t._window)))return;let a=l.offset;(l=$&&!n.isCollapsed()&&Dn(s)&&null!==i.anchorNode)&&(l=(s=s.getTextContent().slice(0,a)+r+s.getTextContent().slice(a+n.focus.offset))===(3===(i=i.anchorNode).nodeType?i.nodeValue:null)),l||Nr(t,o,r),r=r.length,K&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),U||J||V||!t.isComposing()||(Jt=0,Ee(null))}else ze(!1,t,null!==r?r:void 0),Qt&&(ln(t,r||void 0),Qt=!1);gr(),ae(n=yr())})),Ht=null}],["click",function(e,t){br(t,(()=>{let n=tr();var i=st(t._window);let l=nr();if(i)if(Wn(n)){let t=n.anchor;var s=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!Pr(s)&&1===Ie().getChildrenSize()&&s.getTopLevelElementOrThrow().isEmpty()&&null!==l&&n.is(l)?(i.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||s!==(i=n.focus.getNode())&&(Dr(s)?s.select(0):s.getParentOrThrow().select(0))}else"touch"===e.pointerType&&null!==(s=i.anchorNode)&&(1===(s=s.nodeType)||3===s)&&Le(i=er(l,i,t));Nr(t,r,e)}))}],["cut",$t],["copy",$t],["dragstart",$t],["dragover",$t],["dragend",$t],["paste",$t],["focus",$t],["blur",$t],["drop",$t]];$&&Ut.push(["beforeinput",(e,t)=>function(e,t){let n=e.inputType,r=rn(e);"deleteCompositionText"===n||K&&He(t)||"insertCompositionText"!==n&&br(t,(()=>{let g=tr();if("deleteContentBackward"===n){if(null===g){var p=nr();if(!Wn(p))return;Le(p.clone())}if(Wn(g))return void(229===Yt&&e.timeStamp<Jt+30&&t.isComposing()&&g.anchor.key===g.focus.key?(Ee(null),Jt=0,setTimeout((()=>{br(t,(()=>{Ee(null)}))}),30),Wn(g)&&(p=g.anchor.getNode(),p.markDirty(),g.format=p.getFormat(),g.style=p.getStyle())):(e.preventDefault(),Nr(t,i,!0)))}if(Wn(g)){p=e.data,null!==Ht&&ze(!1,t,Ht),g.dirty&&null===Ht||!g.isCollapsed()||Pr(g.anchor.getNode())||null===r||g.applyDOMRange(r),Ht=null;var y=g.focus,m=g.anchor.getNode();if(y=y.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===p?(e.preventDefault(),Nr(t,l,!1)):"\n\n"===p?(e.preventDefault(),Nr(t,s,void 0)):null==p&&e.dataTransfer?(p=e.dataTransfer.getData("text/plain"),e.preventDefault(),g.insertRawText(p)):null!=p&&en(g,r,p,e.timeStamp,!0)?(e.preventDefault(),Nr(t,o,p)):Ht=p,Vt=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Nr(t,o,e);break;case"insertFromComposition":Ee(null),Nr(t,o,e);break;case"insertLineBreak":Ee(null),Nr(t,l,!1);break;case"insertParagraph":Ee(null),qt&&!J?(qt=!1,Nr(t,l,!1)):Nr(t,s,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Nr(t,a,e);break;case"deleteByComposition":(function(e,t){return e!==t||Dr(e)||Dr(t)||!e.isToken()||!t.isToken()})(m,y)&&Nr(t,u,e);break;case"deleteByDrag":case"deleteByCut":Nr(t,u,e);break;case"deleteContent":Nr(t,i,!1);break;case"deleteWordBackward":Nr(t,d,!0);break;case"deleteWordForward":Nr(t,d,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Nr(t,f,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Nr(t,f,!1);break;case"formatStrikeThrough":Nr(t,c,"strikethrough");break;case"formatBold":Nr(t,c,"bold");break;case"formatItalic":Nr(t,c,"italic");break;case"formatUnderline":Nr(t,c,"underline");break;case"historyUndo":Nr(t,h,void 0);break;case"historyRedo":Nr(t,_,void 0)}}}))}(e,t)]);let Jt=0,Yt=0,Vt=0,Ht=null,Gt=0,jt=!1,Xt=!1,qt=!1,Qt=!1,Zt=[0,"",0,"root",0];function en(e,t,n,r,i){let l=e.anchor,s=e.focus,o=l.getNode();var a=yr();let u=st(a._window),d=null!==u?u.anchorNode:null,f=l.key;a=a.getElementByKey(f);let c=n.length;return f!==s.key||!Dn(o)||(!i&&(!$||Vt<r+50)||o.isDirty()&&2>c||Fe(n))&&l.offset!==s.offset&&!o.isComposing()||xe(o)||o.isDirty()&&1<c||(i||!$)&&null!==a&&!o.isComposing()&&d!==Ce(a)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||o.getFormat()!==e.format||o.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(Dn(t=t.getPreviousSibling())||Dr(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,o)}function tn(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function nn(e,t,r){let{anchorNode:i,anchorOffset:l,focusNode:s,focusOffset:o}=e;jt&&(jt=!1,tn(i,l)&&tn(s,o))||br(t,(()=>{if(r){if(me(t,i,s)){var l=tr();if(Wn(l)){var o=l.anchor,a=o.getNode();if(l.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(l.dirty=!0);var u=Qe(t).event;u=u?u.timeStamp:performance.now();let[n,r,i,s,d]=Zt;u<d+200&&o.offset===i&&o.key===s?(l.format=n,l.style=r):"text"===o.type?(l.format=a.getFormat(),l.style=a.getStyle()):"element"===o.type&&(l.format=0,l.style="")}else{o=255,a=!1;let e=(u=l.getNodes()).length;for(let t=0;t<e;t++){let e=u[t];if(Dn(e)&&(a=!0,0==(o&=e.getFormat())))break}l.format=a?o:0}}Nr(t,n,void 0)}}else Le(null)}))}function rn(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function ln(e,t){var n=e._compositionKey;if(Ee(null),null!==n&&null!=t){if(""===t)return t=Oe(n),void(null!==(e=Ce(e.getElementByKey(n)))&&null!==e.nodeValue&&Dn(t)&&Ke(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&Wn(n=tr()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void Nr(e,T,null)}ze(!0,e,t)}function sn(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let on=new Map;function an(e){let t=st(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=ve(t.anchorNode);if(null!==n){Xt&&(Xt=!1,br(n,(()=>{var e=nr(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&Le(e=er(e,t,n))})));var r=(e=(e=Be(n))[e.length-1])._key,i=on.get(r),l=i||e;l!==n&&nn(t,l,!1),nn(t,n,!0),n!==e?on.set(r,n):i&&on.delete(r)}}}function un(e,t,n){gr();var r=e.__key;let i=e.getParent();if(null!==i){var l=tr();if(Wn(l)&&Dr(e)){var{anchor:s,focus:o}=l,a=s.getNode(),u=o.getNode();qe(a,e)&&s.set(e.__key,0,"element"),qe(u,e)&&o.set(e.__key,0,"element")}if(u=!1,Wn(a=l)&&t){l=a.anchor;let t=a.focus;l.key===r&&(lr(l,e,i,e.getPreviousSibling(),e.getNextSibling()),u=!0),t.key===r&&(lr(t,e,i,e.getPreviousSibling(),e.getNextSibling()),u=!0)}else Un(a)&&t&&e.isSelected()&&e.selectPrevious();Wn(a)&&t&&!u?(r=e.getIndexWithinParent(),ke(e),rr(a,i,r,-1)):ke(e),n||et(i)||i.canBeEmpty()||!i.isEmpty()||un(i,t),t&&Pr(i)&&i.isEmpty()&&i.selectEnd()}}class dn{static getType(){F(64,this.name)}static clone(){F(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Se(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=Oe(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||tr()))return!1;let t=e.getNodes().some((e=>e.__key===this.__key));return(Dn(this)||!Wn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return null===e?null:Oe(e)}getParentOrThrow(){let e=this.getParent();return null===e&&F(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(et(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&F(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:Oe(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:Oe(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();Dr(this)&&t.unshift(this),Dr(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var i=this;;){var l=i.__key;if(r.has(l)||(r.add(l),n.push(i)),i===e)break;if(null!==(l=Dr(i)?t?i.getFirstChild():i.getLastChild():null))i=l;else if(null!==(l=t?i.getNextSibling():i.getPreviousSibling()))i=l;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;l=i;do{null===l&&F(68),i=t?l.getNextSibling():l.getPreviousSibling(),null!==(l=l.getParent())&&(null!==i||r.has(l.__key)||n.push(l))}while(null===i)}}return t||n.reverse(),n}isDirty(){let e=yr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=Oe(this.__key);return null===e&&F(113),e}getWritable(){gr();var e=pr(),t=yr();e=e._nodeMap;let n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var l=tr();return null!==l&&(l._cachedNodes=null),t.has(n)?(be(r),r):((l=r.constructor.clone(r)).__parent=i,l.__next=r.__next,l.__prev=r.__prev,Dr(r)&&Dr(l)?(l.__first=r.__first,l.__last=r.__last,l.__size=r.__size,l.__indent=r.__indent,l.__format=r.__format,l.__dir=r.__dir):Dn(r)&&Dn(l)&&(l.__format=r.__format,l.__style=r.__style,l.__mode=r.__mode,l.__detail=r.__detail),t.add(n),l.__key=n,be(l),e.set(n,l),l)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){F(70)}updateDOM(){F(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){F(72)}static importJSON(){F(18,this.name)}static transform(){return null}remove(e){un(this,!0,e)}replace(e,t){gr();var n=tr();null!==n&&(n=n.clone()),rt(this,e);let r=this.getLatest(),i=this.__key,l=e.__key,s=e.getWritable(),o=(e=this.getParentOrThrow().getWritable()).__size;ke(s);let a=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,f=r.__next,c=r.__parent;return un(r,!1,!0),null===a?e.__first=l:a.getWritable().__next=l,s.__prev=d,null===u?e.__last=l:u.getWritable().__prev=l,s.__next=f,s.__parent=c,e.__size=o,t&&this.getChildren().forEach((e=>{s.append(e)})),Wn(n)&&(Le(n),t=n.anchor,n=n.focus,t.key===i&&Ln(t,s),n.key===i&&Ln(n,s)),we()===i&&Ee(l),s}insertAfter(e,t=!0){gr(),rt(this,e);var n=this.getWritable();let r=e.getWritable();var i=r.getParent();let l=tr();var s=!1,o=!1;if(null!==i){var a=e.getIndexWithinParent();ke(r),Wn(l)&&(o=i.__key,s=l.anchor,i=l.focus,s="element"===s.type&&s.key===o&&s.offset===a+1,o="element"===i.type&&i.key===o&&i.offset===a+1)}i=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let u=r.__key,d=n.__next;return null===i?a.__last=u:i.getWritable().__prev=u,a.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Wn(l)&&(rr(l,a,(t=this.getIndexWithinParent())+1),n=a.__key,s&&l.anchor.set(n,t+2,"element"),o&&l.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){gr(),rt(this,e);var n=this.getWritable();let r=e.getWritable(),i=r.__key;ke(r);let l=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),o=n.__prev,a=this.getIndexWithinParent();return null===l?s.__first=i:l.getWritable().__next=i,s.__size++,n.__prev=i,r.__prev=o,r.__next=n.__key,r.__parent=n.__parent,n=tr(),t&&Wn(n)&&rr(n,t=this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return Wr()}selectPrevious(e,t){gr();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):Dr(n)?n.select():Dn(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){gr();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():Dr(n)?n.select(0,0):Dn(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class fn extends dn{static getType(){return"linebreak"}static clone(e){return new fn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t,n,r=e.parentElement;return null!==r&&((t=r.firstChild)===e||t.nextSibling===e&&3===t.nodeType&&null!==(t.textContent||"").match(/^[\s|\r?\n|\t]+$/))&&((n=r.lastChild)===e||n.previousSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^[\s|\r?\n|\t]+$/))?null:{conversion:cn,priority:0}}}}static importJSON(){return hn()}exportJSON(){return{type:"linebreak",version:1}}}function cn(){return{node:hn()}}function hn(){return nt(new fn)}function _n(e){return e instanceof fn}function gn(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function pn(e,t){return 1&t?"strong":2&t?"em":"span"}function yn(e,t,n,r,i){e=r.classList,void 0!==(r=Ue(i,"base"))&&e.add(...r);let l=!1,s=8&t&&4&t;var o=8&n&&4&n;void 0!==(r=Ue(i,"underlineStrikethrough"))&&(o?(l=!0,s||e.add(...r)):s&&e.remove(...r));for(let a in q)o=q[a],void 0!==(r=Ue(i,a))&&(n&o&&(!l||"underline"!==a&&"strikethrough"!==a)?(0==(t&o)||s&&"underline"===a||"strikethrough"===a)&&e.add(...r):t&o&&e.remove(...r))}function mn(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?H:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||K){n=t.length;let i=e.length,l=0,s=0;for(;l<n&&l<i&&t[l]===e[l];)l++;for(;s+l<n&&s+l<i&&t[n-s-1]===e[i-s-1];)s++;e=[l,n-l-s,e.slice(l,i-s)];let[o,a,u]=e;0!==a&&r.deleteData(o,a),r.insertData(o,u)}else r.nodeValue=e}function vn(e,t){return(t=document.createElement(t)).appendChild(e),t}class xn extends dn{static getType(){return"text"}static clone(e){return new xn(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return ne[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===we()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){return e=q[e],0!=(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Te(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=gn(0,t);let r=pn(0,t),i=document.createElement(null===n?r:n),l=i;return null!==n&&(l=document.createElement(r),i.appendChild(l)),n=l,mn(this.__text,n,this),void 0!==(e=e.theme.text)&&yn(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}updateDOM(e,t,n){let r=this.__text;var i=e.__format,l=this.__format,s=gn(0,i);let o=gn(0,l);var a=pn(0,i);let u=pn(0,l);return(null===s?a:s)!==(null===o?u:o)||(s===o&&a!==u?(null==(i=t.firstChild)&&F(48),mn(r,e=s=document.createElement(u),this),void 0!==(n=n.theme.text)&&yn(u,0,l,e,n),t.replaceChild(s,i),!1):(a=t,null!==o&&null!==s&&null==(a=t.firstChild)&&F(49),mn(r,a,this),void 0!==(n=n.theme.text)&&i!==l&&yn(u,i,l,a,n),l=this.__style,e.__style!==l&&(t.style.cssText=l),!1))}static importDOM(){return{"#text":()=>({conversion:Sn,priority:0}),b:()=>({conversion:Tn,priority:0}),code:()=>({conversion:wn,priority:0}),em:()=>({conversion:wn,priority:0}),i:()=>({conversion:wn,priority:0}),s:()=>({conversion:wn,priority:0}),span:()=>({conversion:Cn,priority:0}),strong:()=>({conversion:wn,priority:0}),sub:()=>({conversion:wn,priority:0}),sup:()=>({conversion:wn,priority:0}),u:()=>({conversion:wn,priority:0})}}static importJSON(e){let t=On(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return({element:e}=super.exportDOM(e)),null!==e&&(this.hasFormat("bold")&&(e=vn(e,"b")),this.hasFormat("italic")&&(e=vn(e,"i")),this.hasFormat("strikethrough")&&(e=vn(e,"s")),this.hasFormat("underline")&&(e=vn(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?q[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?Q[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=q[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=te[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){gr();let n=tr();var r=this.getTextContent();let i=this.__key;return"string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,Wn(n)?((r=we())!==n.anchor.key&&r!==n.focus.key||Ee(i),n.setTextNodeRange(this,e,this,t),n):Qn(i,e,i,t,"text","text")}spliceText(e,t,n,r){let i=this.getWritable(),l=i.__text,s=n.length,o=e;0>o&&(o=s+o,0>o&&(o=0));let a=tr();return r&&Wn(a)&&(e+=s,a.setTextNodeRange(i,e,i,e)),t=l.slice(0,o)+n+l.slice(o+t),i.__text=t,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){gr();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=we(),l=new Set(e);e=[];for(var s=n.length,o="",a=0;a<s;a++)""!==o&&l.has(a)&&(e.push(o),o=""),o+=n[a];if(""!==o&&e.push(o),0===(l=e.length))return[];if(e[0]===n)return[t];var u=e[0];n=t.getParentOrThrow(),a=t.getFormat();let d=t.getStyle(),f=t.__detail;s=!1,t.isSegmented()?((o=On(u)).__format=a,o.__style=d,o.__detail=f,s=!0):(o=t.getWritable()).__text=u,t=tr(),o=[o],u=u.length;for(let n=1;n<l;n++){var c=e[n],h=c.length;(c=On(c).getWritable()).__format=a,c.__style=d,c.__detail=f;let l=c.__key;if(h=u+h,Wn(t)){let e=t.anchor,n=t.focus;e.key===r&&"text"===e.type&&e.offset>u&&e.offset<=h&&(e.key=l,e.offset-=u,t.dirty=!0),n.key===r&&"text"===n.type&&n.offset>u&&n.offset<=h&&(n.key=l,n.offset-=u,t.dirty=!0)}i===r&&Ee(l),u=h,o.push(c)}return r=this.getPreviousSibling(),i=this.getNextSibling(),null!==r&&be(r),null!==i&&be(i),r=n.getWritable(),i=this.getIndexWithinParent(),s?(r.splice(i,0,o),this.remove()):r.splice(i,1,o),Wn(t)&&rr(t,n,i,l-1),o}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||F(50);var n=this.__key;let r=e.__key,i=this.__text,l=i.length;we()===r&&Ee(n);let s=tr();if(Wn(s)){let i=s.anchor,o=s.focus;null!==i&&i.key===r&&(sr(i,t,n,e,l),s.dirty=!0),null!==o&&o.key===r&&(sr(o,t,n,e,l),s.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function Cn(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,l=e.style.verticalAlign;return{forChild:e=>Dn(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===l&&e.toggleFormat("subscript"),"super"===l&&e.toggleFormat("superscript"),e):e,node:null}}function Tn(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(Dn(e)&&!t&&e.toggleFormat("bold"),e),node:null}}let Nn=new WeakMap;function Sn(e){null===e.parentElement&&F(129);for(var t,n=e.textContent||"",r=e.parentNode,i=[e];null!==r&&void 0===(t=Nn.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<i.length;r++)Nn.set(i[r],t);if(null!==t){for(e=[],i=(n=n.split(/(\r?\n|\t)/)).length,t=0;t<i;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(hn()):"\t"===r?e.push(An()):""!==r&&e.push(On(r));return{node:e}}if(""===(n=n.replace(/\r?\n|\t/gm," ").replace("\r","").replace(/\s+/g," ")))return{node:null};if(" "===n[0]){for(i=e,t=!0;null!==i&&null!==(i=bn(i,!1));)if(0<(r=i.textContent||"").length){r.match(/(?:\s|\r?\n|\t)$/)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(i=!0;null!==e&&null!==(e=bn(e,!0));)if(0<(e.textContent||"").replace(/^[\s|\r?\n|\t]+/,"").length){i=!1;break}i&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:On(n)}}let kn=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function bn(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(kn)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}let En={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function wn(e){let t=En[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(Dn(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function On(e=""){return nt(new xn(e))}function Dn(e){return e instanceof xn}class Mn extends xn{static getType(){return"tab"}static clone(e){let t=new Mn(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=An();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){F(126)}setDetail(){F(127)}setMode(){F(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function An(){return nt(new Mn)}class Pn{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,Dr(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return Dr(n)&&(i=n.getDescendantByIndex(e),n=null!=i?i:n),t===n?r<e:t.isBefore(n)}getNode(){let e=Oe(this.key);return null===e&&F(20),e}set(e,t,n){let r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,_r()||(we()===i&&Ee(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}function In(e,t){let n=t.__key,r=e.offset,i="element";if(Dn(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!Dr(t)){var l=t.getNextSibling();Dn(l)?(n=l.__key,r=0,i="text"):(l=t.getParent())&&(n=l.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function Ln(e,t){if(Dr(t)){let n=t.getLastDescendant();Dr(n)||Dn(n)?In(e,n):In(e,t)}else In(e,t)}function Rn(e,t,n,r){let i=e.getNode(),l=i.getChildAtIndex(e.offset),s=On(),o=Pr(i)?Wr().append(s):s;s.setFormat(n),s.setStyle(r),null===l?i.append(o):(l.insertBefore(o),"element"===t.type&&t.key===e.key&&t.offset!==e.offset&&t.set(t.key,t.offset+1,"element")),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}function Fn(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Bn{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!Un(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Bn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.getNodes(),r=n.length;var i=n[r-1];if(Dn(i))i=i.select();else{let e=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(e,e)}for(i.insertNodes(e,t),e=0;e<r;e++)n[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];for(let n of t)null!==(t=Oe(n))&&e.push(t);return _r()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Wn(e){return e instanceof $n}class zn{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!Kn(e)&&this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new zn(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Yn(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.focus.getNode();return he(n.select(0,n.getChildrenSize())).insertNodes(e,t)}getShape(){var e=Oe(this.anchor.key);null===e&&F(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var n=Oe(this.focus.key);null===n&&F(22);var r=n.getIndexWithinParent();let i=n.getParentOrThrow().getIndexWithinParent();return n=Math.min(t,r),t=Math.max(t,r),r=Math.min(e,i),e=Math.max(e,i),{fromX:Math.min(n,t),fromY:Math.min(r,e),toX:Math.max(n,t),toY:Math.max(r,e)}}getNodes(){function e(e){let{cell:t,startColumn:n,startRow:r}=e;o=Math.min(o,n),a=Math.min(a,r),u=Math.max(u,n+t.__colSpan-1),d=Math.max(d,r+t.__rowSpan-1)}var t=this._cachedNodes;if(null!==t)return t;var n=this.anchor.getNode();t=this.focus.getNode(),n=at(n,Ur);var r=at(t,Ur);Ur(n)||F(103),Ur(r)||F(104),Hr(t=n.getParent())||F(105),Yr(t=t.getParent())||F(106);let[i,l,s]=or(t,n,r),o=Math.min(l.startColumn,s.startColumn),a=Math.min(l.startRow,s.startRow),u=Math.max(l.startColumn+l.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),d=Math.max(l.startRow+l.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1);n=o,r=a;for(var f=o,c=a;o<n||a<r||u>f||d>c;){if(o<n){var h=c-r;--n;for(var _=0;_<=h;_++)e(i[r+_][n])}if(a<r)for(h=f-n,--r,_=0;_<=h;_++)e(i[r][n+_]);if(u>f)for(h=c-r,f+=1,_=0;_<=h;_++)e(i[r+_][f]);if(d>c)for(h=f-n,c+=1,_=0;_<=h;_++)e(i[c][n+_])}for(t=[t],n=null,r=a;r<=d;r++)for(f=o;f<=u;f++)({cell:c}=i[r][f]),Hr(h=c.getParent())||F(107),h!==n&&t.push(h),t.push(c,...ut(c)),n=h;return _r()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Kn(e){return e instanceof zn}class $n{constructor(e,t,n,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=r,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!Wn(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();let i=r.offset;return r=n.offset,Dr(e)&&(n=e.getDescendantByIndex(i),e=null!=n?n:e),Dr(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?Dr(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),_r()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){Fn(this.anchor,e.__key,t,"text"),Fn(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,l=r.isBefore(i),[s,o]=Yn(this),a="",u=!0;for(let d=0;d<e.length;d++){let f=e[d];if(Dr(f)&&!f.isInline())u||(a+="\n"),u=!f.isEmpty();else if(u=!1,Dn(f)){let e=f.getTextContent();f===t?f===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=s<o?e.slice(s,o):e.slice(o,s)):e=l?e.slice(s):e.slice(o):f===n&&(e=l?e.slice(0,o):e.slice(0,s)),a+=e}else!wr(f)&&!_n(f)||f===n&&this.isCollapsed()||(a+=f.getTextContent())}return a}applyDOMRange(e){let t=yr(),n=t.getEditorState()._selection;if(null!==(e=Xn(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,i]=e;Fn(this.anchor,r.key,r.offset,r.type),Fn(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new $n(new Pn(e.key,e.offset,e.type),new Pn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Te(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!=(this.format&q[e])}insertRawText(e){let t=[],n=(e=e.split(/(\r?\n|\t)/)).length;for(let r=0;r<n;r++){let n=e[r];"\n"===n||"\r\n"===n?t.push(hn()):"\t"===n?t.push(An()):t.push(On(n))}this.insertNodes(t)}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,l=this.style;r&&"element"===t.type?Rn(t,n,i,l):r||"element"!==n.type||Rn(n,t,i,l);var s=this.getNodes(),o=s.length,a=r?n:t;n=(r?t:n).offset;var u=a.offset;Dn(t=s[0])||F(26),r=t.getTextContent().length;var d=t.getParentOrThrow(),f=s[o-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!d.canInsertTextAfter()&&null===t.getNextSibling())){var c=t.getNextSibling();if(Dn(c)&&c.canInsertTextBefore()&&!xe(c)||((c=On()).setFormat(i),d.canInsertTextAfter()?t.insertAfter(c):d.insertAfter(c)),c.select(0,0),t=c,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!d.canInsertTextBefore()&&null===t.getPreviousSibling())){if(Dn(c=t.getPreviousSibling())&&!xe(c)||((c=On()).setFormat(i),d.canInsertTextBefore()?t.insertBefore(c):d.insertBefore(c)),c.select(),t=c,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(d=On(t.getTextContent())).setFormat(i),t.replace(d),t=d;else if(!(this.isCollapsed()||""===e||(c=f.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!Dr(c)||c.canInsertTextBefore()&&c.canInsertTextAfter()))))return this.insertText(""),jn(this.anchor,this.focus,null),void this.insertText(e);if(1===o)if(t.isToken())(e=On(e)).select(),t.replace(e);else{if(s=t.getFormat(),o=t.getStyle(),n===u&&(s!==i||o!==l)){if(""!==t.getTextContent())return(s=On(e)).setFormat(i),s.setStyle(l),s.select(),0===n?t.insertBefore(s,!1):([o]=t.splitText(n),o.insertAfter(s,!1)),void(s.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(i),t.setStyle(l)}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=s,this.style=o))}else{if(i=new Set([...t.getParentKeys(),...f.getParentKeys()]),c=Dr(t)?t:t.getParentOrThrow(),l=Dr(f)?f:f.getParentOrThrow(),d=f,!c.is(l)&&l.isInline())do{d=l,l=l.getParentOrThrow()}while(l.isInline());"text"===a.type&&(0!==u||""===f.getTextContent())||"element"===a.type&&f.getIndexWithinParent()<u?Dn(f)&&!f.isToken()&&u!==f.getTextContentSize()?(f.isSegmented()&&(a=On(f.getTextContent()),f.replace(a),f=a),f=f.spliceText(0,u,""),i.add(f.__key)):(a=f.getParentOrThrow()).canBeEmpty()||1!==a.getChildrenSize()?f.remove():a.remove():i.add(f.__key),a=l.getChildren(),u=new Set(s),f=c.is(l),c=c.isInline()&&null===t.getNextSibling()?c:t;for(let e=a.length-1;0<=e;e--){let n=a[e];if(n.is(t)||Dr(n)&&n.isParentOf(t))break;n.isAttached()&&(!u.has(n)||n.is(d)?f||c.insertAfter(n,!1):n.remove())}if(!f)for(a=l,u=null;null!==a;)(0===(f=(l=a.getChildren()).length)||l[f-1].is(u))&&(i.delete(a.__key),u=a),a=a.getParent();for(t.isToken()?n===r?t.select():((e=On(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<o;e++)t=s[e],i.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Ee(null);else{var t=this.getNodes(),n=[];for(var r of t)Dn(r)&&n.push(r);var i=n.length;if(0===i)this.toggleFormat(e),Ee(null);else{r=this.anchor;var l=this.focus,s=this.isBackward();t=s?l:r,r=s?r:l;var o=0,a=n[0];if(l="element"===t.type?0:t.offset,"text"===t.type&&l===a.getTextContentSize()&&(o=1,a=n[1],l=0),null!=a){s=a.getFormatFlags(e,null);var u=i-1,d=n[u];if(i="text"===r.type?r.offset:d.getTextContentSize(),a.is(d))l!==i&&(0===l&&i===a.getTextContentSize()?a.setFormat(s):(e=a.splitText(l,i),(e=0===l?e[0]:e[1]).setFormat(s),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,i-l,"text")),this.format=s);else{0!==l&&([,a]=a.splitText(l),l=0),a.setFormat(s);var f=d.getFormatFlags(e,s);for(0<i&&(i!==d.getTextContentSize()&&([d]=d.splitText(i)),d.setFormat(f)),o+=1;o<u;o++){let t=n[o];if(!t.isToken()){let n=t.getFormatFlags(e,f);t.setFormat(n)}}"text"===t.type&&t.set(a.__key,l,"text"),"text"===r.type&&r.set(d.__key,i,"text"),this.format=s|f}}}}}insertNodes(e,t){if(!this.isCollapsed()){var n=this.isBackward()?this.anchor:this.focus,r=n.getNode().getNextSibling();if(r=r?r.getKey():null,n=(n=n.getNode().getPreviousSibling())?n.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===r&&0===this.focus.offset){var i=On();this.focus.getNode().insertBefore(i)}else this.focus.key===n&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(i=On(),this.focus.getNode().insertAfter(i));i&&(this.focus.set(i.__key,0,"text"),this.anchor.set(i.__key,0,"text"))}}n=(i=this.anchor).offset;var l=i.getNode();r=l,"element"===i.type&&(r=null===(r=(i=i.getNode()).getChildAtIndex(n-1))?i:r),i=[];var s=l.getNextSiblings(),o=et(l)?null:l.getTopLevelElementOrThrow();if(Dn(l))if(r=l.getTextContent().length,0===n&&0!==r)r=null!==(r=l.getPreviousSibling())?r:l.getParentOrThrow(),i.push(l);else if(n===r)r=l;else{if(l.isToken())return!1;[r,l]=l.splitText(n),i.push(l)}l=r,i.push(...s),s=e[0];var a=!1,u=null;for(let t=0;t<e.length;t++){var d=e[t];if(et(r)||wr(r)||!Dr(d)||d.isInline())a&&!Dr(d)&&!wr(d)&&et(r.getParent())&&F(28);else{if(d.is(s)){if(Dr(r)&&r.isEmpty()&&r.canReplaceWith(d)){r.replace(d),r=d,a=!0;continue}if(Ne(a=d.getFirstDescendant())){for(var f=a.getParentOrThrow();f.isInline();)f=f.getParentOrThrow();if(a=(u=f.getChildren()).length,Dr(r)){var c=r.getFirstChild();for(let e=0;e<a;e++){let t=u[e];null===c?r.append(t):c.insertAfter(t),c=t}}else{for(c=a-1;0<=c;c--)r.insertAfter(u[c]);r=r.getParentOrThrow()}if(u=u[a-1],f.remove(),a=!0,f.is(d))continue}}Dn(r)&&(null===o&&F(27),r=o)}a=!1,Dr(r)&&!r.isInline()?(u=d,wr(d)&&!d.isInline()?r=r.insertAfter(d,!1):Dr(d)?!d.canBeEmpty()&&d.isEmpty()||(Pr(r)?(null!==(f=r.getChildAtIndex(n))?f.insertBefore(d):r.append(d),r=d):d.isInline()?(r.append(d),r=d):r=r.insertAfter(d,!1)):(null!==(f=r.getFirstChild())?f.insertBefore(d):r.append(d),r=d)):!Dr(d)||Dr(d)&&d.isInline()||wr(r)&&!r.isInline()?(u=d,Wn(this)&&wr(d)&&(Dr(r)||Dn(r))&&!d.isInline()?(Dn(r)?(f=r.getParentOrThrow(),[r]=r.splitText(n),r=r.getIndexWithinParent()+1):(f=r,r=n),[,r]=ot(f,r),r=r.insertBefore(d)):r=r.insertAfter(d,!1)):(d=r.getParentOrThrow(),_n(r)&&r.remove(),r=d,t--)}if(t&&(Dn(l)?l.select():Dn(e=r.getPreviousSibling())?e.select():(e=r.getIndexWithinParent(),r.getParentOrThrow().select(e,e))),Dr(r)){if(e=Dn(u)?u:Dr(u)&&u.isInline()?u.getLastDescendant():r.getLastDescendant(),t||(null===e?r.select():Dn(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==i.length)for(t=r,e=i.length-1;0<=e;e--)o=(n=i[e]).getParentOrThrow(),!Dr(r)||qn(n)||wr(n)&&(!n.isInline()||n.isIsolated())?Dr(r)||qn(n)?Dr(n)&&!n.canInsertAfter(r)?(Dr(l=o.constructor.clone(o))||F(29),l.append(n),r.insertAfter(l)):r.insertAfter(n):(r.insertBefore(n),r=n):(t===r?r.append(n):r.insertBefore(n),r=n),o.isEmpty()&&!o.canBeEmpty()&&o.remove()}else t||(Dn(r)?r.select():(t=r.getParentOrThrow(),e=r.getIndexWithinParent()+1,t.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,n=[];if("text"===e.type){var r=e.getNode(),i=r.getNextSiblings().reverse(),l=r.getParentOrThrow(),s=l.isInline(),o=s?l.getTextContentSize():r.getTextContentSize();0===t?i.push(r):(s&&(n=l.getNextSiblings()),t===o||s&&t===r.getTextContentSize()||([,r]=r.splitText(t),i.push(r)))}else{if(et(l=e.getNode()))return i=Wr(),n=l.getChildAtIndex(t),i.select(),void(null!==n?n.insertBefore(i,!1):l.append(i));i=l.getChildren().slice(t).reverse()}if(r=i.length,0===t&&0<r&&l.isInline()){if(Dr(i=(n=l.getParentOrThrow()).insertNewAfter(this,!1)))for(n=n.getChildren(),l=0;l<n.length;l++)i.append(n[l])}else if(null===(s=l.insertNewAfter(this,!1)))this.insertLineBreak();else if(Dr(s))if(o=l.getFirstChild(),0===t&&(l.is(e.getNode())||o&&o.is(e.getNode()))&&0<r)l.insertBefore(s);else{if(l=null,t=n.length,e=s.getParentOrThrow(),0<t)for(o=0;o<t;o++)e.append(n[o]);if(0!==r)for(n=0;n<r;n++)t=i[n],null===l?s.append(t):l.insertBefore(t),l=t;s.canBeEmpty()||0!==s.getChildrenSize()?s.selectStart():(s.selectPrevious(),s.remove())}}insertLineBreak(e){let t=hn();var n=this.anchor;"element"===n.type&&Pr(n=n.getNode())&&this.insertParagraph(),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return Yn(this)}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let i=this.focus;var l=e[0];let s=e[n],[o,a]=Yn(this);return 0===t?[]:1===t?Dn(l)&&!this.isCollapsed()?(e=o>a?a:o,n=l.splitText(e,o>a?o:a),null!=(e=0===e?n[0]:n[1])?[e]:[]):[l]:(t=r.isBefore(i),Dn(l)&&((r=t?o:a)===l.getTextContentSize()?e.shift():0!==r&&([,l]=l.splitText(r),e[0]=l)),Dn(s)&&(l=s.getTextContent().length,0===(t=t?a:o)?e.pop():t!==l&&([s]=s.splitText(t),e[n]=s)),e)}modify(e,t,n){var r=this.focus,i=this.anchor,l="move"===e,s=Ve(r,t);if(wr(s)&&!s.isIsolated())l&&s.isKeyboardSelectable()?((t=Zn()).add(s.__key),Le(t)):Dn(e=t?s.getPreviousSibling():s.getNextSibling())?(s=e.__key,t=t?e.getTextContent().length:0,r.set(s,t,"text"),l&&i.set(s,t,"text")):(n=s.getParentOrThrow(),Dr(e)?(n=e.__key,s=t?e.getChildrenSize():0):(s=s.getIndexWithinParent(),n=n.__key,t||s++),r.set(n,s,"element"),l&&i.set(n,s,"element"));else if(r=st((i=yr())._window)){var o=i._blockCursorElement,a=i._rootElement;if(null===a||null===o||!Dr(s)||s.isInline()||s.canBeEmpty()||lt(o,i,a),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(s=r.getRangeAt(0),i=Pr(i=this.anchor.getNode())?i:Ze(i),this.applyDOMRange(s),this.dirty=!0,!l)){for(l=this.getNodes(),e=[],n=!1,o=0;o<l.length;o++)qe(a=l[o],i)?e.push(a):n=!0;n&&0<e.length&&(t?Dr(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():Dr(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===s.startContainer&&r.anchorOffset===s.startOffset||(t=this.focus,r=(l=this.anchor).key,s=l.offset,i=l.type,Fn(l,t.key,t.offset,t.type),Fn(t,r,s,i),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var r=this.anchor,i=this.focus,l=r.getNode();if(!e&&("element"===r.type&&Dr(l)&&r.offset===l.getChildrenSize()||"text"===r.type&&r.offset===l.getTextContentSize())){var s=l.getParent();if(Dr(s=l.getNextSibling()||(null===s?null:s.getNextSibling()))&&s.isShadowRoot())return}if(wr(s=Ve(i,e))&&!s.isIsolated())return void(s.isKeyboardSelectable()&&Dr(l)&&0===l.getChildrenSize()?(l.remove(),e=Zn(),e.add(s.__key),Le(e)):(s.remove(),yr().dispatchCommand(n,void 0)));if(!e&&Dr(s)&&Dr(l)&&l.isEmpty())return l.remove(),void s.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===r.offset&&("element"===r.type?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(s="text"===i.type?i.getNode():null,l="text"===r.type?r.getNode():null,null!==s&&s.isSegmented()){if(r=i.offset,i=s.getTextContentSize(),s.is(l)||e&&r!==i||!e&&0!==r)return void Vn(s,e,r)}else if(null!==l&&l.isSegmented()&&(r=r.offset,i=l.getTextContentSize(),l.is(s)||e&&0!==r||!e&&r!==i))return void Vn(l,e,r);if(l=this.anchor,s=this.focus,(r=l.getNode())===(i=s.getNode())&&"text"===l.type&&"text"===s.type){var o=l.offset,a=s.offset;let t=o<a;(i=t?o:a)!==(o=(a=t?a:o)-1)&&(Fe(r=r.getTextContent().slice(i,a))||(e?s.offset=o:l.offset=o))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&(e=this.anchor.getNode()).isEmpty()&&Pr(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this)}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Un(e){return e instanceof Bn}function Jn(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function Yn(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[Jn(t),Jn(e)]}function Vn(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,l=0,s=0;for(let e=0;e<i;e++){let o=e===i-1;if(s=l,l+=r[e].length,t&&l===n||l>n||o){r.splice(e,1),o&&(s=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(s,s))}function Hn(e,t,n,r){var i=t;if(1===e.nodeType){let o=!1;var l=e.childNodes,s=l.length;i===s&&(o=!0,i=s-1);let a=l[i];if(s=!1,a===r._blockCursorElement?(a=l[i+1],s=!0):null!==r._blockCursorElement&&i--,Dn(r=Re(a)))i=o?r.getTextContentSize():0;else{if(null===(l=Re(e)))return null;if(Dr(l)?((t=Dr(e=l.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=o?e.getLastDescendant():e.getFirstDescendant())?(l=e,i=0):l=Dr(e=n)?e:e.getParentOrThrow()),Dn(e)?(r=e,l=null,i=o?e.getTextContentSize():0):e!==l&&o&&!s&&i++):(i=l.getIndexWithinParent(),i=0===t&&wr(l)&&Re(e)===l?i:i+1,l=l.getParentOrThrow()),Dr(l))return new Pn(l.__key,i,"element")}}else r=Re(e);return Dn(r)?new Pn(r.__key,i,"text"):null}function Gn(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t?(n||!t)&&null===r&&Dr(i)&&i.isInline()&&Dn(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length):Dr(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):Dn(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&Dr(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&Dr(i)&&i.isInline()&&!i.canInsertTextAfter()&&Dn(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0))}function jn(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let i=e.is(t);Gn(e,r,i),Gn(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=yr()).isComposing()&&r._compositionKey!==e.key&&Wn(n)&&(r=n.anchor,n=n.focus,Fn(e,r.key,r.offset,r.type),Fn(t,n.key,n.offset,n.type))}}function Xn(e,t,n,r,i,l){return null!==e&&null!==n&&me(i,e,n)?null===(t=Hn(e,t,Wn(l)?l.anchor:null,i))||null===(r=Hn(n,r,Wn(l)?l.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=Re(e),n=Re(n),wr(e)&&wr(n))?null:(jn(t,r,l),[t,r]):null}function qn(e){return Dr(e)&&!e.isInline()}function Qn(e,t,n,r,i,l){let s=pr();return(e=new $n(new Pn(e,t,i),new Pn(n,r,l),0,"")).dirty=!0,s._selection=e}function Zn(){return new Bn(new Set)}function er(e,t,n){var r=n._window;if(null===r)return null;var i=r.event,l=i?i.type:void 0;let s;if(r="selectionchange"===l,i=!re&&(r||"beforeinput"===l||"compositionstart"===l||"compositionend"===l||"click"===l&&i&&3===i.detail||"drop"===l||void 0===l),Wn(e)&&!i)return e.clone();if(null===t)return null;if(i=t.anchorNode,l=t.focusNode,s=t.anchorOffset,t=t.focusOffset,r&&Wn(e)&&!me(n,i,l))return e.clone();if(null===(n=Xn(i,s,l,t,n,e)))return null;let[o,a]=n;return new $n(o,a,Wn(e)?e.format:0,Wn(e)?e.style:"")}function tr(){return pr()._selection}function nr(){return yr()._editorState._selection}function rr(e,t,n,r=1){var i=e.anchor,l=e.focus,s=i.getNode(),o=l.getNode();if(t.is(s)||t.is(o)){if(s=t.__key,e.isCollapsed())(n<=(t=i.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),i.set(s,n,"element"),l.set(s,n,"element"),ir(e));else{let u=e.isBackward();var a=(o=u?l:i).getNode();l=(i=u?i:l).getNode(),t.is(a)&&(n<=(a=o.offset)&&0<r||n<a&&0>r)&&o.set(s,Math.max(0,a+r),"element"),t.is(l)&&(n<=(t=i.offset)&&0<r||n<t&&0>r)&&i.set(s,Math.max(0,t+r),"element")}ir(e)}}function ir(e){var t=e.anchor,n=t.offset;let r=e.focus;var i=r.offset,l=t.getNode(),s=r.getNode();if(e.isCollapsed())Dr(l)&&Dn(s=(i=n>=(s=l.getChildrenSize()))?l.getChildAtIndex(s-1):l.getChildAtIndex(n))&&(n=0,i&&(n=s.getTextContentSize()),t.set(s.__key,n,"text"),r.set(s.__key,n,"text"));else{if(Dr(l)){let r=l.getChildrenSize();Dn(n=(e=n>=r)?l.getChildAtIndex(r-1):l.getChildAtIndex(n))&&(l=0,e&&(l=n.getTextContentSize()),t.set(n.__key,l,"text"))}Dr(s)&&Dn(i=(t=i>=(n=s.getChildrenSize()))?s.getChildAtIndex(n-1):s.getChildAtIndex(i))&&(s=0,t&&(s=i.getTextContentSize()),r.set(i.__key,s,"text"))}}function lr(e,t,n,r,i){let l=null,s=0,o=null;null!==r?(l=r.__key,Dn(r)?(s=r.getTextContentSize(),o="text"):Dr(r)&&(s=r.getChildrenSize(),o="element")):null!==i&&(l=i.__key,Dn(i)?o="text":Dr(i)&&(o="element")),null!==l&&null!==o?e.set(l,s,o):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function sr(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function or(e,t,n){let r=[],i=null,l=null;e=e.getChildren();for(let d=0;d<e.length;d++){var s=e[d];Hr(s)||F(108);var o=s.getChildren();s=0;for(let e of o){for(Ur(e)||F(109);void 0!==r[d]&&void 0!==r[d][s];)s++;var a=s,u=e;let f={cell:u,startColumn:a,startRow:o=d},c=u.__rowSpan,h=u.__colSpan;for(let e=0;e<c;e++){void 0===r[o+e]&&(r[o+e]=[]);for(let t=0;t<h;t++)r[o+e][a+t]=f}t.is(u)&&(i=f),n.is(u)&&(l=f),s+=e.__colSpan}}return null===i&&F(110),null===l&&F(111),[r,i,l]}let ar=null,ur=null,dr=!1,fr=!1,cr=0,hr={characterData:!0,childList:!0,subtree:!0};function _r(){return dr||null!==ar&&ar._readOnly}function gr(){dr&&F(13)}function pr(){return null===ar&&F(15),ar}function yr(){return null===ur&&F(16),ur}function mr(e,t,n){var r=t.__type;let i=e._nodes.get(r);for(void 0===i&&F(30,r),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function vr(e,t){var n=e.type,r=t.get(n);if(void 0===r&&F(17,n),n=r.klass,e.type!==n.getType()&&F(18,n.name),n=n.importJSON(e),e=e.children,Dr(n)&&Array.isArray(e))for(r=0;r<e.length;r++){let i=vr(e[r],t);n.append(i)}return n}function xr(e,t){let n=ar,r=dr,i=ur;ar=e,dr=!0,ur=null;try{return t()}finally{ar=n,dr=r,ur=i}}function Cr(e,t){let r=e._pendingEditorState,i=e._rootElement,l=e._headless||null===i;if(null!==r){var s=e._editorState,o=s._selection,a=r._selection,u=0!==e._dirtyType,d=ar,f=dr,c=ur,h=e._updating,_=e._observer,g=null;if(e._pendingEditorState=null,e._editorState=r,!l&&u&&null!==_){ur=e,ar=r,dr=!1,e._updating=!0;try{let t=e._dirtyType,n=e._dirtyElements,i=e._dirtyLeaves;_.disconnect();var p=n,y=i;Tt=Nt=Ct="",St=2===t,bt=null,ct=e,ft=e._config,ht=e._nodes,_t=ct._listeners.mutation,gt=p,pt=y,yt=s._nodeMap,mt=r._nodeMap,kt=r._readOnly,vt=new Map(e._keyToDOMMap);let l=new Map;xt=l,Bt("root",null),xt=vt=ft=mt=yt=pt=gt=ht=ct=void 0,g=l}catch(t){if(t instanceof Error&&e._onError(t),fr)throw t;return zr(e,null,i,r),ue(e),e._dirtyType=2,fr=!0,Cr(e,s),void(fr=!1)}finally{_.observe(i,hr),e._updating=h,ar=d,dr=f,ur=c}}r._readOnly||(r._readOnly=!0);var m=e._dirtyLeaves,v=e._dirtyElements,x=e._normalizedNodes,C=e._updateTags,T=e._deferred;u&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var N,S=e._decorators,k=e._pendingDecorators||S,b=r._nodeMap;for(N in k)b.has(N)||(k===S&&(k=Ae(e)),delete k[N]);var E=l?null:st(e._window);if(e._editable&&null!==E&&(u||null===a||a.dirty)){ur=e,ar=r;try{if(null!==_&&_.disconnect(),u||null===a||a.dirty){let t=e._blockCursorElement;null!==t&&lt(t,e,i);e:{let t=E.anchorNode,n=E.focusNode,r=E.anchorOffset,l=E.focusOffset,s=document.activeElement;if(!(C.has("collaboration")&&s!==i||null!==s&&ye(s)))if(Wn(a)){var w=a.anchor,O=a.focus,D=w.key,M=O.key,A=je(e,D),P=je(e,M),I=w.offset,L=O.offset,R=a.format,F=a.style,B=a.isCollapsed(),W=A,z=P,K=!1;if("text"===w.type){W=Ce(A);let e=w.getNode();K=e.getFormat()!==R||e.getStyle()!==F}else Wn(o)&&"text"===o.anchor.type&&(K=!0);if("text"===O.type&&(z=Ce(P)),null!==W&&null!==z){if(B&&(null===o||K||Wn(o)&&(o.format!==R||o.style!==F))){var $=performance.now();Zt=[R,F,I,D,$]}if(r===I&&l===L&&t===W&&n===z&&("Range"!==E.type||!B)&&(null!==s&&i.contains(s)||i.focus({preventScroll:!0}),"element"!==w.type))break e;try{E.setBaseAndExtent(W,I,z,L)}catch(e){}if(!C.has("skip-scroll-into-view")&&a.isCollapsed()&&null!==i&&i===document.activeElement){let t=a instanceof $n&&"element"===a.anchor.type?W.childNodes[I]||null:0<E.rangeCount?E.getRangeAt(0):null;if(null!==t){let n;if(t instanceof Text){let e=document.createRange();e.selectNode(t),n=e.getBoundingClientRect()}else n=t.getBoundingClientRect();let r=i.ownerDocument,l=r.defaultView;if(null!==l)for(var U,J,{top:Y,bottom:V}=n,H=i;null!==H;){let t=H===r.body;if(t)U=0,J=Qe(e).innerHeight;else{let e=H.getBoundingClientRect();U=e.top,J=e.bottom}let n=0;if(Y<U?n=-(U-Y):V>J&&(n=V-J),0!==n)if(t)l.scrollBy(0,n);else{let e=H.scrollTop;H.scrollTop+=n;let t=H.scrollTop-e;Y-=t,V-=t}if(t)break;H=Xe(H)}}}jt=!0}}else null!==o&&me(e,t,n)&&E.removeAllRanges()}}e:{let t=e._blockCursorElement;if(Wn(a)&&a.isCollapsed()&&"element"===a.anchor.type&&i.contains(document.activeElement)){let n=a.anchor,r=n.getNode(),l=n.offset,s=r.getChildrenSize(),o=!1,u=null;if(l===s)it(r.getChildAtIndex(l-1))&&(o=!0);else{let t=r.getChildAtIndex(l);if(it(t)){let n=t.getPreviousSibling();(null===n||it(n))&&(o=!0,u=e.getElementByKey(t.__key))}}if(o){let n=e.getElementByKey(r.__key);if(null===t){let n=e._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let i=n.blockCursor;if(void 0!==i){if("string"==typeof i){let e=i.split(" ");i=n.blockCursor=e}void 0!==i&&r.classList.add(...i)}e._blockCursorElement=t=r}i.style.caretColor="transparent",null===u?n.appendChild(t):n.insertBefore(t,u);break e}}null!==t&&lt(t,e,i)}null!==_&&_.observe(i,hr)}finally{ur=c,ar=d}}if(null!==g){var G=g;let t=Array.from(e._listeners.mutation),n=t.length;for(let e=0;e<n;e++){let[n,r]=t[e],i=G.get(r);void 0!==i&&n(i,{dirtyLeaves:m,prevEditorState:s,updateTags:C})}}Wn(a)||null===a||null!==o&&o.is(a)||e.dispatchCommand(n,void 0);var j=e._pendingDecorators;null!==j&&(e._decorators=j,e._pendingDecorators=null,Tr("decorator",e,!0,j));var X=Pe(t||s),q=Pe(r);if(X!==q&&Tr("textcontent",e,!0,q),Tr("update",e,!0,{dirtyElements:v,dirtyLeaves:m,editorState:r,normalizedNodes:x,prevEditorState:t||s,tags:C}),e._deferred=[],0!==T.length){let t=e._updating;e._updating=!0;try{for(let e=0;e<T.length;e++)T[e]()}finally{e._updating=t}}var Q=e._updates;if(0!==Q.length){let t=Q.shift();if(t){let[n,r]=t;kr(e,n,r)}}}}function Tr(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function Nr(e,t,n){if(!1===e._updating||ur!==e){let r=!1;return e.update((()=>{r=Nr(e,t,n)})),r}let r=Be(e);for(let l=4;0<=l;l--)for(let s=0;s<r.length;s++){var i=r[s]._commands.get(t);if(void 0!==i&&void 0!==(i=i[l])){let t=(i=Array.from(i)).length;for(let r=0;r<t;r++)if(!0===i[r](n,e))return!0}}return!1}function Sr(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let n,[i,l]=r;void 0!==l&&(r=l.onUpdate,n=l.tag,l.skipTransforms&&(t=!0),r&&e._deferred.push(r),n&&e._updateTags.add(n)),i()}}return t}function kr(e,t,n){let r=e._updateTags;var i,l=i=!1;if(void 0!==n){var s=n.onUpdate;null!=(i=n.tag)&&r.add(i),i=n.skipTransforms||!1,l=n.discrete||!1}s&&e._deferred.push(s),n=e._editorState;let o=!1;(null===(s=e._pendingEditorState)||s._readOnly)&&(s=e._pendingEditorState=new Rr(new Map((s||n)._nodeMap)),o=!0),s._flushSync=l,l=ar;let a=dr,u=ur,d=e._updating;ar=s,dr=!1,e._updating=!0,ur=e;try{o&&(e._headless?null!=n._selection&&(s._selection=n._selection.clone()):s._selection=function(e){let t=e.getEditorState()._selection,n=st(e._window);return Un(t)||Kn(t)?t.clone():er(t,n,e)}(e));let r=e._compositionKey;t(),i=Sr(e,i),function(e,t){if(t=t.getEditorState()._selection,Wn(e=e._selection)){var n=e.anchor;let r,i=e.focus;"text"===n.type&&(r=n.getNode(),r.selectionTransform(t,e)),"text"===i.type&&r!==(n=i.getNode())&&n.selectionTransform(t,e)}}(s,e),0!==e._dirtyType&&(i?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)Dn(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&ce(t)}(s,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let i=we(),l=new Map;var s=n;let o=s.size;for(var a=r,u=a.size;0<o||0<u;){if(0<o){t._dirtyLeaves=new Set;for(let r of s)Dn(s=e.get(r))&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&ce(s),void 0!==s&&void 0!==s&&s.__key!==i&&s.isAttached()&&mr(t,s,l),n.add(r);if(o=(s=t._dirtyLeaves).size,0<o){cr++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let n of a)a=n[0],u=n[1],("root"===a||u)&&(void 0!==(s=e.get(a))&&void 0!==s&&s.__key!==i&&s.isAttached()&&mr(t,s,l),r.set(a,u));o=(s=t._dirtyLeaves).size,u=(a=t._dirtyElements).size,cr++}t._dirtyLeaves=n,t._dirtyElements=r}(s,e),Sr(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;let i=[];for(let[n]of r){let l=t.get(n);void 0===l||l.isAttached()||(Dr(l)&&dt(l,n,e,t,i,r),e.has(n)||r.delete(n),i.push(n))}for(let e of i)t.delete(e);for(let i of n)void 0===(r=t.get(i))||r.isAttached()||(e.has(i)||n.delete(i),t.delete(i))}(n,s,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(s._flushSync=!0);let l=s._selection;if(Wn(l)){let e=s._nodeMap,t=l.focus.key;void 0!==e.get(l.anchor.key)&&void 0!==e.get(t)||F(19)}else Un(l)&&0===l._nodes.size&&(s._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Cr(e)}finally{ar=l,dr=a,ur=u,e._updating=d,cr=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,null!==(e=e._selection)){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(s,e)?s._flushSync?(s._flushSync=!1,Cr(e)):o&&pe((()=>{Cr(e)})):(s._flushSync=!1,o&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function br(e,t,n){e._updating?e._updates.push([t,n]):kr(e,t,n)}class Er extends dn{constructor(e){super(e)}decorate(){F(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function wr(e){return e instanceof Er}class Or extends dn{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return ee[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=yr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(Dn(t)&&e.push(t),Dr(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(Dr(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(Dr(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?Dr(e=t[n-1])&&e.getLastDescendant()||e||null:Dr(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:Oe(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&F(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:Oe(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&F(96,this.__key),e}getChildAtIndex(e){var t=this.getChildrenSize();let n;if(e<t/2){for(n=this.getFirstChild(),t=0;null!==n&&t<=e;){if(t===e)return n;n=n.getNextSibling(),t++}return null}for(n=this.getLastChild(),--t;null!==n&&t>=e;){if(t===e)return n;n=n.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),Dr(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),Dr(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=Z[e],0!=(this.getFormat()&e))}select(e,t){gr();let n=tr(),r=e,i=t;var l=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(Dn(e=this.getFirstChild())||Dr(e))return e.select(0,0)}else if(!(void 0!==e&&e!==l||void 0!==t&&t!==l)&&(Dn(e=this.getLastChild())||Dr(e)))return e.select();return void 0===r&&(r=l),void 0===i&&(i=l),l=this.__key,Wn(n)?(n.anchor.set(l,r,"element"),n.focus.set(l,i,"element"),n.dirty=!0,n):Qn(l,r,l,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return Dr(e)||Dn(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return Dr(e)||Dn(e)?e.select():null!==e?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Z[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,i=this.getChildrenSize(),l=this.getWritable(),s=l.__key;var o=[],a=[];let u=this.getChildAtIndex(e+t),d=null,f=i-t+r;if(0!==e)if(e===i)d=this.getLastChild();else{var c=this.getChildAtIndex(e);null!==c&&(d=c.getPreviousSibling())}if(0<t){var h=null===d?this.getFirstChild():d.getNextSibling();for(c=0;c<t;c++){null===h&&F(100);var _=h.getNextSibling(),g=h.__key;ke(h=h.getWritable()),a.push(g),h=_}}for(c=d,_=0;_<r;_++){g=n[_],null!==c&&g.is(c)&&(d=c=c.getPreviousSibling()),(h=g.getWritable()).__parent===s&&f--,ke(h);let e=g.__key;null===c?(l.__first=e,h.__prev=null):((c=c.getWritable()).__next=e,h.__prev=c.__key),g.__key===s&&F(76),h.__parent=s,o.push(e),c=g}if(e+t===i?null!==c&&(c.getWritable().__next=null,l.__last=c.__key):null!==u&&(e=u.getWritable(),null!==c?(t=c.getWritable(),e.__prev=c.__key,t.__next=u.__key):e.__prev=null),l.__size=f,a.length&&Wn(e=tr())){a=new Set(a),o=new Set(o);let{anchor:t,focus:n}=e;Mr(t,a,o)&&lr(t,t.getNode(),this,d,u),Mr(n,a,o)&&lr(n,n.getNode(),this,d,u),0!==f||this.canBeEmpty()||et(this)||this.remove()}return l}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function Dr(e){return e instanceof Or}function Mr(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class Ar extends Or{static getType(){return"root"}static clone(){return new Ar}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){F(51)}getTextContent(){let e=this.__cachedText;return!_r()&&0!==yr()._dirtyType||null===e?super.getTextContent():e}remove(){F(52)}replace(){F(53)}insertBefore(){F(54)}insertAfter(){F(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];Dr(n)||wr(n)||F(56)}return super.append(...e)}static importJSON(e){let t=Ie();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Pr(e){return e instanceof Ar}function Ir(){return new Rr(new Map([["root",new Ar]]))}function Lr(e){let t=e.exportJSON();var n=e.constructor;t.type!==n.getType()&&F(130,n.name);let r=t.children;if(Dr(e))for(Array.isArray(r)||F(59,n.name),e=e.getChildren(),n=0;n<e.length;n++){let t=Lr(e[n]);r.push(t)}return t}class Rr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return xr(this,e)}clone(e){return(e=new Rr(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return xr(this,(()=>({root:Lr(Ie())})))}}class Fr extends Or{static getType(){return"paragraph"}static clone(e){return new Fr(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=Ue(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Br,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=20*t+"px")}return{element:e}}static importJSON(e){let t=Wr();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=Wr();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||Dn(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Br(e){let t=Wr();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function Wr(){return nt(new Fr)}function zr(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=Ir(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class Kr{constructor(e,t,n,r,i,l,s){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=We(),this._onError=i,this._htmlConversions=l,this._editable=s,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&F(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&F(36,String(e));let l=i[n];return l.add(t),()=>{l.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&F(37,e.name);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){var n=e.getType();return void 0===(n=this._nodes.get(n))&&F(37,e.name),n.transforms.add(t),n}registerNodeTransform(e,t){var n=this.registerNodeTransformToKlass(e,t);let r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){br(e,(()=>{var e=pr();if(!e.isEmpty())if("root"===t)Ie().markDirty();else{e=e._nodeMap;for(let[,t]of e)t.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Nr(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let l=Ue(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,zr(this,t,e,n),null!==t){if(!this._config.disableEvents){0!==Gt&&(Gt--,0===Gt&&t.ownerDocument.removeEventListener("selectionchange",an));var r=t.__lexicalEditor;if(null!=r){if(null!==r._parentEditor){var i=Be(r);i=i[i.length-1]._key,on.get(i)===r&&on.delete(i)}else on.delete(r._key);t.__lexicalEditor=null}for(r=sn(t),i=0;i<r.length;i++)r[i]();t.__lexicalEventHandles=[]}null!=l&&t.classList.remove(...l)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,ue(this),this._updateTags.add("history-merge"),Cr(this),this._config.disableEvents||function(e,t){0===Gt&&e.ownerDocument.addEventListener("selectionchange",an),Gt++,e.__lexicalEditor=t;let n=sn(e);for(let r=0;r<Ut.length;r++){let[i,l]=Ut[r],s="function"==typeof l?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&l(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(i){case"cut":return Nr(t,P,e);case"copy":return Nr(t,A,e);case"paste":return Nr(t,a,e);case"dragstart":return Nr(t,O,e);case"dragover":return Nr(t,D,e);case"dragend":return Nr(t,M,e);case"focus":return Nr(t,I,e);case"blur":return Nr(t,L,e);case"drop":return Nr(t,w,e)}};e.addEventListener(i,s),n.push((()=>{e.removeEventListener(i,s)}))}}(e,this),null!=l&&e.classList.add(...l)):(this._editorState=n,this._window=this._pendingEditorState=null),Tr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&F(38),ae(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),Cr(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),Cr(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=Ir(),r=ar,i=dr,l=ur,s=this._dirtyElements,o=this._dirtyLeaves,a=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,ar=n,dr=!1,ur=this;try{vr(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(e){e instanceof Error&&this._onError(e)}finally{this._dirtyElements=s,this._dirtyLeaves=o,this._cloneNotNeeded=a,this._dirtyType=u,ar=r,dr=i,ur=l}return n}update(e,t){br(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),br(this,(()=>{let e=tr(),n=Ie();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=st(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Tr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class $r extends Or{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Ur(e){return e instanceof $r}class Jr extends Or{}function Yr(e){return e instanceof Jr}class Vr extends Or{}function Hr(e){return e instanceof Vr}t.$addUpdateTag=function(e){gr(),yr()._updateTags.add(e)},t.$applyNodeReplacement=nt,t.$copyNode=tt,t.$createLineBreakNode=hn,t.$createNodeSelection=Zn,t.$createParagraphNode=Wr,t.$createRangeSelection=function(){let e=new Pn("root",0,"element"),t=new Pn("root",0,"element");return new $n(e,t,0,"")},t.$createTabNode=An,t.$createTextNode=On,t.$getAdjacentNode=Ve,t.$getNearestNodeFromDOMNode=Me,t.$getNearestRootOrShadowRoot=Ze,t.$getNodeByKey=Oe,t.$getPreviousSelection=nr,t.$getRoot=Ie,t.$getSelection=tr,t.$getTextContent=function(){let e=tr();return null===e?"":e.getTextContent()},t.$hasAncestor=qe,t.$hasUpdateTag=function(e){return yr()._updateTags.has(e)},t.$insertNodes=function(e,t){let n=tr()||nr();return null===n&&(n=Ie().selectEnd()),n.insertNodes(e,t)},t.$isBlockElementNode=qn,t.$isDecoratorNode=wr,t.$isElementNode=Dr,t.$isInlineElementOrDecoratorNode=function(e){return Dr(e)&&e.isInline()||wr(e)&&e.isInline()},t.$isLeafNode=Ne,t.$isLineBreakNode=_n,t.$isNodeSelection=Un,t.$isParagraphNode=function(e){return e instanceof Fr},t.$isRangeSelection=Wn,t.$isRootNode=Pr,t.$isRootOrShadowRoot=et,t.$isTabNode=function(e){return e instanceof Mn},t.$isTextNode=Dn,t.$nodesOfType=function(e){var t=pr();let n=t._readOnly,r=e.getType();t=t._nodeMap;let i=[];for(let[,l]of t)l instanceof e&&l.__type===r&&(n||l.isAttached())&&i.push(l);return i},t.$normalizeSelection__EXPERIMENTAL=he,t.$parseSerializedNode=function(e){return vr(e,yr()._nodes)},t.$setCompositionKey=Ee,t.$setSelection=Le,t.$splitNode=ot,t.BLUR_COMMAND=L,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=r,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.CONTROLLED_TEXT_INSERTION_COMMAND=o,t.COPY_COMMAND=A,t.CUT_COMMAND=P,t.DELETE_CHARACTER_COMMAND=i,t.DELETE_LINE_COMMAND=f,t.DELETE_WORD_COMMAND=d,t.DEPRECATED_$computeGridMap=or,t.DEPRECATED_$createGridSelection=function(){let e=new Pn("root",0,"element"),t=new Pn("root",0,"element");return new zn("root",e,t)},t.DEPRECATED_$getNodeTriplet=function(e){e instanceof $r||(e instanceof dn?Ur(e=at(e,Ur))||F(114):Ur(e=at(e.getNode(),Ur))||F(114));let t=e.getParent();Hr(t)||F(115);let n=t.getParent();return Yr(n)||F(116),[e,t,n]},t.DEPRECATED_$isGridCellNode=Ur,t.DEPRECATED_$isGridNode=Yr,t.DEPRECATED_$isGridRowNode=Hr,t.DEPRECATED_$isGridSelection=Kn,t.DEPRECATED_GridCellNode=$r,t.DEPRECATED_GridNode=Jr,t.DEPRECATED_GridRowNode=Vr,t.DRAGEND_COMMAND=M,t.DRAGOVER_COMMAND=D,t.DRAGSTART_COMMAND=O,t.DROP_COMMAND=w,t.DecoratorNode=Er,t.ElementNode=Or,t.FOCUS_COMMAND=I,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=c,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=l,t.INSERT_PARAGRAPH_COMMAND=s,t.INSERT_TAB_COMMAND={},t.KEY_ARROW_DOWN_COMMAND=C,t.KEY_ARROW_LEFT_COMMAND=m,t.KEY_ARROW_RIGHT_COMMAND=p,t.KEY_ARROW_UP_COMMAND=x,t.KEY_BACKSPACE_COMMAND=S,t.KEY_DELETE_COMMAND=b,t.KEY_DOWN_COMMAND=g,t.KEY_ENTER_COMMAND=T,t.KEY_ESCAPE_COMMAND=k,t.KEY_MODIFIER_COMMAND=R,t.KEY_SPACE_COMMAND=N,t.KEY_TAB_COMMAND=E,t.LineBreakNode=fn,t.MOVE_TO_END=y,t.MOVE_TO_START=v,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=a,t.ParagraphNode=Fr,t.REDO_COMMAND=_,t.REMOVE_TEXT_COMMAND=u,t.RootNode=Ar,t.SELECTION_CHANGE_COMMAND=n,t.TabNode=Mn,t.TextNode=xn,t.UNDO_COMMAND=h,t.createCommand=function(){return{}},t.createEditor=function(e){var t=e||{},n=ur,r=t.theme||{};let i=void 0===e?n:t.parentEditor||null,l=t.disableEvents||!1,s=Ir(),o=t.namespace||(null!==i?i._config.namespace:We()),a=t.editorState,u=[Ar,xn,fn,Mn,Fr,...t.nodes||[]],d=t.onError;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<u.length;n++){let t=u[n],r=null;var f=null;"function"!=typeof t&&(t=(f=t).replace,r=f.with,f=f.withKlass?f.withKlass:null);let i=t.getType(),l=t.transform(),s=new Set;null!==l&&s.add(l),e.set(i,{klass:t,replace:r,replaceWithKlass:f,transforms:s})}return r=new Kr(s,i,e,{disableEvents:l,namespace:o,theme:r},d||console.error,function(e){let t=new Map,n=new Set;return e.forEach((e=>{if(null!=(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)&&!n.has(e)){n.add(e);var r=e();null!==r&&Object.keys(r).forEach((e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(r[e])}))}})),t}(e),t),void 0!==a&&(r._pendingEditorState=a,r._dirtyType=2),r},t.getNearestEditorFromDOMNode=ve,t.isSelectionCapturedInDecoratorInput=ye,t.isSelectionWithinEditor=me}}]);
//# sourceMappingURL=2543.2530cd5b6bbb2a58.js.map