/*! For license information please see 8137.3058daee195037fe.js.LICENSE.txt */
"use strict";(self.webpackChunkcodegen=self.webpackChunkcodegen||[]).push([[8137,7560,7204],{7560:(e,t,n)=>{function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},l.apply(this,arguments)}n.d(t,{Z:()=>l})},8137:(e,t,n)=>{n.r(t),n.d(t,{FeatureFlagsProvider:()=>b,useFeatureFlag:()=>u,withFeatureFlagsConsumer:()=>d});var l=n(78439),r=n(7560);const a=({options:e,allFlags:t,ldClient:n})=>{var l,a;const{flagName:u,defaultValue:o,requiredAttributesInContext:s=[]}="defaultValue"in e?e:(0,r.Z)({},e,{defaultValue:void 0}),i=null!=(l=null==n||null==(a=n.getContext())?void 0:a.custom)?l:{},d=(null==s?void 0:s.length)>0&&!s.every((e=>e in i))?o:t[u];return null!=d?d:t[u]};function u(e){const t=(0,l.useFlags)(),n=(0,l.useLDClient)();return{value:a({allFlags:t,ldClient:n,options:e})}}var o=n(40540),s=n(52322);const i={ldClient:void 0,flags:void 0};function d(e){return(0,l.withLDConsumer)()((t=>{const n=(0,l.useFlags)(),u=(0,l.useLDClient)();return(0,s.jsx)(e,(0,r.Z)({},t,i,{getFlagsValue:e=>a({options:e,ldClient:u,allFlags:n})}))}))}var c=n(26663),g=n.n(c),v=n(13101);const f=()=>(0,v.isLoggedIn)()?{kind:"user",key:(0,v.getUserId)(),custom:{platform:window.SDK_PLATFORM,appVersion:window.APP_VERSION,releaseChannel:window.NX_RELEASE_CHANNEL,analyticsEnabled:"browser"===window.SDK_PLATFORM,userCreatedAt:0,daysSinceUserCreate:0,emailDomain:"",isPaidPlanGrowth:!1,teamSize:0,roles:[],teamCreatedAt:0,daysSinceTeamCreate:0,webFnCustomPlanId:""}}:{kind:"anonymous",key:"0",custom:{platform:window.SDK_PLATFORM,appVersion:window.APP_VERSION,releaseChannel:window.NX_RELEASE_CHANNEL,analyticsEnabled:"browser"===window.SDK_PLATFORM}};var m=n(16669),C=n(88749);function p(e){return e&&+new Date(e)||0}function _(e){if(!e)return null;const t=new Date,n=new Date(e);return Math.floor(Math.abs(t.getTime()-n.getTime())/864e5)}const w=(0,o.createContext)(void 0),F=({passedInFeatureFlagContext:e,children:t,debounceInterval:n=200})=>{const[a,u]=(0,o.useState)([]),i=(0,o.useRef)(!1),d=(0,l.useLDClient)(),c=(0,o.useCallback)((e=>{u((t=>[...t,e]))}),[]),{loggedInUserCustomAttributes:g,isCustomAttributesLoading:f,externalUserId:F}=function(e){var t,n,a;const u=(0,v.getUserId)(),s=(0,v.isLoggedIn)(),i=(0,l.useLDClient)(),{data:d,isLoading:c}=(0,m.useTeamsByUserId)({overrideQueryParams:{billing:!0},enabled:s}),{data:g,isLoading:f}=(0,m.useExternalId)({userId:u,enabled:s}),{data:w,isLoading:F}=(0,m.useUserInfo)({userId:u,enabled:s}),{data:y,isLoading:I}=(0,C.useGetPlanFeatures)(u,s),b=null!=(t=null==d||null==(n=d.organizations)?void 0:n.find((e=>e.id===(0,v.getTeamId)())))?t:void 0,x=c||F||I||f,h=(0,o.useMemo)((()=>{var t,n,l,a,u,o,d,c,g,v,f;return x||!s?void 0:(0,r.Z)({},null==i?void 0:i.getContext().custom,null==e?void 0:e.custom,{userCreatedAt:p(null!=(t=null==w?void 0:w.created_at)?t:null),daysSinceUserCreate:_(null!=(n=null==w?void 0:w.created_at)?n:null)||0,emailDomain:null!=(l=null==w||null==(a=w.email)?void 0:a.split("@")[1])?l:"",teamSize:null!=(u=null==b?void 0:b.team_size)?u:0,roles:(null!=(o=null==b?void 0:b.roles)?o:"").split(","),teamCreatedAt:p(null!=(d=null==b?void 0:b.created_at)?d:null),daysSinceTeamCreate:_(null!=(c=null==b?void 0:b.created_at)?c:null)||0,webFnCustomPlanId:null!=(g=null==b?void 0:b.plan)?g:null,isPaidPlanGrowth:null!=(v=null==y||null==(f=y.data)||null==(f=f.features.is_paid_plan_growth)?void 0:f.value)&&v})}),[x,s,i,null==e?void 0:e.custom,null==w?void 0:w.created_at,null==w?void 0:w.email,null==b?void 0:b.team_size,null==b?void 0:b.roles,null==b?void 0:b.created_at,null==b?void 0:b.plan,null==y||null==(a=y.data)?void 0:a.features]);return{isCustomAttributesLoading:x,loggedInUserCustomAttributes:h,externalUserId:null!=g?g:(0,v.getUserId)()}}(e);(0,o.useEffect)((()=>{f||c(g)}),[c,f,g]);const I=((e,t)=>{const n=(0,o.useRef)(null);return(0,o.useCallback)((()=>{n.current&&clearTimeout(n.current),n.current=setTimeout(e,t)}),[e,t])})((0,o.useCallback)((async()=>{if(!i.current&&0!==a.length){const t=y({contextUpdateQueue:a,currentFeatureFlagsContext:null==d?void 0:d.getContext(),externalUserId:F,passedInFeatureFlagContext:e});i.current=!0;try{await(null==d?void 0:d.identify(t)),u([])}catch(e){throw new Error(`Error occurred while updating feature flags context: ${e}`)}finally{i.current=!1}}}),[a,d,F,e]),n);return(0,o.useEffect)((()=>{I()}),[I]),(0,s.jsx)(w.Provider,{value:{addCustomAttributesUpdateToQueue:c},children:t})},y=({contextUpdateQueue:e,currentFeatureFlagsContext:t,externalUserId:n,passedInFeatureFlagContext:l})=>e.reduce(((e,l)=>{const a=(0,r.Z)({},e.custom,l);return(0,r.Z)({},t,{key:n,custom:a})}),(0,r.Z)({},t,l,{custom:(null==t?void 0:t.custom)||{}})),I={useCamelCaseFlagKeys:!1};function b({children:e,featureFlagsContext:t}){const n=g().LAUNCH_DARKLY_CLIENT_SIDE_ID;return n?(0,s.jsx)(l.LDProvider,{clientSideID:n,context:f(),reactOptions:I,children:(0,s.jsx)(F,{passedInFeatureFlagContext:t,children:e})}):(0,s.jsx)(s.Fragment,{children:e})}},11837:(e,t,n)=>{var l=n(40540),r=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),t.Fragment=a("react.fragment")}var u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,n){var l,a={},i=null,d=null;for(l in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,l)&&!s.hasOwnProperty(l)&&(a[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===a[l]&&(a[l]=t[l]);return{$$typeof:r,type:e,key:i,ref:d,props:a,_owner:u.current}}t.jsx=i,t.jsxs=i},52322:(e,t,n)=>{e.exports=n(11837)}}]);
//# sourceMappingURL=8137.3058daee195037fe.js.map