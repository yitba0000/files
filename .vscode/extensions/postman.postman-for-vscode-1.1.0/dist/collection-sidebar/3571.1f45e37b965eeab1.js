"use strict";(self.webpackChunkcollection_sidebar=self.webpackChunkcollection_sidebar||[]).push([[3571],{73571:(e,t,a)=>{function n(e){return window&&window.open(e,"_self","noopener,noreferrer")}a.r(t),a.d(t,{Link:()=>Z,OPEN_EXTENSION_URL:()=>O,PostmanTabsManager:()=>rt,checkContextAndNavigate:()=>n,createPlatformRouter:()=>dt,openExternalLink:()=>I,useAdditionalRouteContext:()=>R,useBeforeTabbedWindowUnload:()=>f,useCurrentPostmanTabContext:()=>p,useIsActivePostmanTab:()=>v,useLoaderData:()=>_,useLocation:()=>C,useMountOutletOnNav:()=>y,useNavigate:()=>M,usePostmanTabsContext:()=>b,useSearchParams:()=>B,useSetTabState:()=>T,useSetTabTitle:()=>j,useTabTitleAndStateUpdates:()=>m,useTabTitleMeta:()=>L,withRouter:()=>s});var i=a(40540),r=a.n(i),o=a(60607),l=a(52322);function s(e){return t=>{const a=(0,o.useLocation)(),n=(0,o.useNavigate)(),i=(0,o.useParams)();return(0,l.jsx)(e,Object.assign({location:a,navigate:n,params:i},t))}}var c=a(98283),d=a(21466);a(97321);const u=r().createContext(null),b=()=>(0,i.useContext)(u),h=r().createContext(null),p=()=>(0,i.useContext)(h),v=()=>{const e=b(),t=p(),{tabId:a}=t||{};return(null==e?void 0:e.activeTab)===a},m=()=>{const{pathname:e,search:t}=(0,o.useLocation)(),a=v(),{tabId:n,title:r,tabType:l,setTabState:s,isConflicted:c,isDirty:d}=p();(0,i.useEffect)((()=>{a&&r&&(s({title:r,tabType:l,isDirty:d,isConflicted:c}),globalThis.document.title=r)}),[a,n,r,l,d,c,s]),(0,i.useEffect)((()=>{s({currentlyActiveURL:e+t})}),[])},f=()=>{const{tabs:e,tabsMeta:t}=b();(0,i.useEffect)((()=>{}),[])};var g=a(60398);const x=(e,...t)=>{const a=e(...t),n=b(),r=!!p(),o=v(),l=(0,i.useRef)(a);return(0,i.useEffect)((()=>{o&&(l.current=a)}),[o,a]),n&&r&&!o?l.current:a},C=()=>x(o.useLocation),w=(e,t)=>{const a=t[e.id];return!(null!=a&&a.isDirty||null!=a&&a.isConflicted||null!=a&&a.isPinned)},y=()=>{const{tabs:e,tabsMeta:t,setTabs:a,setTabsMeta:n,setActiveTab:r}=b(),l=C(),{state:s,pathname:c,search:d}=l,u=(0,o.useOutlet)(),h=(0,i.useMemo)((()=>u),[c+d]),p=(0,i.useCallback)(((t,n)=>{const i=e.map((e=>e.id===n?t:e));return r(t.id),a(i)}),[r,a,e]),v=(0,i.useCallback)(((i,o,l)=>{const s=Object.assign({replacePreviewTab:!0,pinNewTab:!1},l),c=(0,g.v4)(),d={pathname:i,element:o,id:c},u=e.find((e=>w(e,t)));return u&&null!=s&&s.replacePreviewTab?p(d,u.id):(r(c),null!=s&&s.pinNewTab&&n((e=>Object.assign({},e,{[c]:Object.assign({},e[c],{isPinned:!0})}))),a((e=>[...e,{pathname:i,element:o,id:c}])))}),[e,p,r,a,t,n]);(0,i.useEffect)((()=>{if(!h)return;const t=(e=>{if("string"==typeof e)try{var t;return(null==(t=JSON.parse(e))?void 0:t.navigationParams)||{}}catch(e){return{}}return(null==e?void 0:e.navigationParams)||{}})(s),{tabId:a,newTab:n,sameTab:i}=t;if(n)return v(c,h,{replacePreviewTab:!1,pinNewTab:!0});if(i&&a&&-1!==e.findIndex((e=>e.id===a)))return p({id:(0,g.v4)(),pathname:c,element:h},a);if(a){var o;const t=null==(o=e.find((e=>e.id===a)))?void 0:o.id;if(t)return r(t)}const l=e.find((e=>e.pathname===c));return l?r(null==l?void 0:l.id):v(c,h)}),[h])},T=e=>{const{setTabsMeta:t,activeTab:a}=b();return(0,i.useCallback)((n=>{a===e.id&&t((t=>{const a=Object.assign({},t[e.id]),i={};return"title"in n&&(i.title=n.title||""),"isDirty"in n&&(i.isDirty=n.isDirty||!1),"isConflicted"in n&&(i.isConflicted=n.isConflicted||!1),"tabType"in n&&(i.tabType=n.tabType||"http"),"currentlyActiveURL"in n&&(i.currentlyActiveURL=n.currentlyActiveURL||""),Object.assign({},t,{[e.id]:Object.assign({},a,i)})}))}),[t,e.id,a])},j=e=>{const t=T(e);return(0,i.useCallback)((e=>t({title:e})),[t])},L=()=>{const{setTabState:e}=p()||{};return{setTabTitle:d.onTabTitleChange}},k=["children","to"],E=["children","to"],N=e=>{let{children:t,to:a}=e,n=(0,c.Z)(e,k);const{tabId:i}=p()||{};return(0,l.jsx)(o.Link,Object.assign({to:a},n,{state:Object.assign({},n.state,{navigationParams:{sameTab:n.sameTab||!1,newTab:n.newTab||!1,tabId:n.sameTab||n.newTab?i:null}}),children:t}))},Z=e=>{let{children:t,to:a}=e,n=(0,c.Z)(e,E);if(n.customNavEvent)return(0,l.jsx)(d.VSCodeLink,Object.assign({to:a},n,{children:t}));const i=Object.assign({},{target:"_self",rel:"noreferrer noopener"},n),r=a.toString();return new RegExp("https?:\\/\\/").test(r)?(0,l.jsx)("a",Object.assign({href:r},i,{onClick:async e=>{n.onClick&&n.onClick(e),e.defaultPrevented},children:t})):(0,l.jsx)(N,Object.assign({to:a},i,{children:t}))},M=()=>{const{tabId:e}=p()||{},t=(0,o.useNavigate)();return(a,n,i)=>{const r=Object.assign({},n),o={sameTab:(null==i?void 0:i.sameTab)||!1,newTab:(null==i?void 0:i.newTab)||!1,tabId:null!=i&&i.sameTab||null!=i&&i.newTab?e:null};if(r.state=null!=n&&n.state&&"string"==typeof n.state?JSON.stringify(Object.assign({},JSON.parse(n.state),{navigationParams:o})):Object.assign({},null==n?void 0:n.state,{navigationParams:o}),null==i||!i.customNavEvent||((0,d.vscodeNavigate)(a,n,i),i["customNavEvent-updateURL"]))return t(a,r)}},O="VIEW_COLLECTION_FOLDER_REQUEST";async function I(e){await(0,d.vsCodeOpenExternalLink)(e)}const R=()=>{const e=(0,o.useLocation)();return(0,i.useMemo)((()=>{const t=(e=>{try{var t;if(!e)return{};let a;return"string"==typeof e&&(a=JSON.parse(e)),(null==(t=a)?void 0:t.additionalContext)||{}}catch(e){return{}}})(e.state);return Object.assign({},t,(()=>{try{var e;return(null==(e=JSON.parse(window.NAVIGATION_CONTEXT))||null==(e=e.params)||null==(e=e.state)?void 0:e.additionalContext)||{}}catch(e){return{}}})())}),[e.state])},B=()=>{const e=(0,o.useLocation)(),[t,a]=x(o.useSearchParams),n=b(),{setTabState:r,tabId:l}=p()||{};return[t,(0,i.useCallback)((t=>{if(a(t,{state:n&&l?{navigationParams:{tabId:l}}:void 0}),l&&n&&r){const a=t.toString(),n=`${e.pathname}${a?"?"+a:""}`;r({currentlyActiveURL:n})}}),[a,n,e.pathname,r,l])]},_=()=>x(o.useLoaderData);var S=a(26246),D=a(59530),V=a.n(D),A=a(80605),H=a(25869),P=a(64691),W=a(59824),U=a(17282),$=V().hr.withConfig({displayName:"MenuDivider__StyledMenuDivider",componentId:"dii7go-0"})(["border:none;border-bottom:",";margin:",";"],(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-default"],";")}),(function(e){return e.theme["spacing-s"]}));function z(){return r().createElement($,null)}z.displayName="MenuDivider";const F=z,q=({isOpen:e,forTabId:t,position:a,createNewRequest:n,closeMenu:i})=>{const{closeAllNonSelectedTabs:r,closeTab:o,closeAllTabs:s}=b();return(0,l.jsx)(P.Z,{isOpen:e,contextMenu:{posX:null==a?void 0:a.x,posY:null==a?void 0:a.y},closeMenu:i,children:(0,l.jsxs)(W.Z,{children:[(0,l.jsx)(U.Z,{onClick:n,children:"New Request"}),(0,l.jsx)(F,{}),(0,l.jsx)(U.Z,{onClick:()=>o(t),children:"Close Tab"}),(0,l.jsx)(U.Z,{onClick:()=>o(t,!0),children:"Force Close Tab"}),(0,l.jsx)(U.Z,{onClick:()=>r(),children:"Close Other Tabs"}),(0,l.jsx)(U.Z,{onClick:()=>s(),children:"Close All Tabs"}),(0,l.jsx)(U.Z,{onClick:()=>s(!0),children:"Force Close All Tabs"})]})})},J=e=>(0,l.jsx)(q,Object.assign({},e));var X=a(48263),Y=a(36914),G=a(58560),Q=a(29225),K=a(7560),ee=a(207),te=r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M2 2H14V1H2V2Z",fill:"#6B6B6B"}),r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.74394 4C1.3022 4 0.970902 4.40413 1.05753 4.83728L2.97753 14.4373C3.04297 14.7645 3.33026 15 3.66394 15H12.336C12.6697 15 12.957 14.7645 13.0224 14.4373L14.9424 4.83728C15.0291 4.40413 14.6978 4 14.256 4H1.74394ZM3.90988 14L2.10988 5H13.8901L12.0901 14H3.90988Z",fill:"#6B6B6B"})),ae=r().forwardRef((function(e,t){return r().createElement(ee.Z,(0,K.Z)({},e,{svg:te,ref:t}))}));ae.getName=function(){return"icon-entity-collection-stroke"};const ne=ae;var ie=a(35547),re=r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"m12.654.046-.707.707L13.593 2.4H0v1h16.007L12.654.046ZM-.007 12.599l3.353 3.353.707-.707L2.407 13.6H16v-1H-.007ZM.011 11.2h.977V8.478h2.327V11.2h.98V4.927h-.98V7.64H.988V4.927H.01V11.2ZM4.784 5.768H5.9V11.2h.973V5.768h.92v-.84h-3.01v.84ZM9.283 5.768h-.916v-.84h3.01v.84h-1.12V11.2h-.974V5.768Z",fill:"#6B6B6B"}),r().createElement("path",{fillRule:"evenodd",d:"M11.87 11.2h.976V8.924h.927c1.501 0 2.244-.807 2.244-2.001 0-1.192-.736-1.996-2.24-1.996h-1.908V11.2Zm.976-3.104V5.765h.826c.967 0 1.362.424 1.362 1.158 0 .733-.395 1.173-1.35 1.173h-.838Z",fill:"#6B6B6B"})),oe=r().forwardRef((function(e,t){return r().createElement(ee.Z,(0,K.Z)({},e,{svg:re,ref:t}))}));oe.getName=function(){return"icon-entity-httpRequest-stroke"};const le=oe;var se=r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M1 2H5.25736C5.9204 2 6.55629 2.26339 7.02513 2.73223L9.29289 5L5 9.29289L3.73223 8.02513C3.26339 7.55628 3 6.9204 3 6.25736V4H2V6.25736C2 7.18562 2.36875 8.07585 3.02513 8.73223L5 10.7071L6.25004 9.45711L8.64648 11.8536L9.35359 11.1464L6.95714 8.75L8.75004 6.95711L11.1465 9.35355L11.8536 8.64645L9.45714 6.25L10.7071 5L7.73223 2.02513C7.07586 1.36875 6.18562 1 5.25736 1H1V2Z",fill:"#6B6B6B"}),r().createElement("path",{d:"M10.6465 2.35355L13.2678 4.97487C13.7366 5.44372 14 6.0796 14 6.74264V12H15V6.74264C15 5.81438 14.6313 4.92414 13.9749 4.26777L11.3536 1.64645L10.6465 2.35355Z",fill:"#6B6B6B"}),r().createElement("path",{d:"M4.26781 13.9749L1.64648 11.3536L2.35359 10.6464L4.97491 13.2678C5.44375 13.7366 6.07964 14 6.74268 14H15V15H6.74268C5.81442 15 4.92418 14.6313 4.26781 13.9749Z",fill:"#6B6B6B"})),ce=r().forwardRef((function(e,t){return r().createElement(ee.Z,(0,K.Z)({},e,{svg:se,ref:t}))}));ce.getName=function(){return"icon-entity-websocket-stroke"};const de=ce;var ue=r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M5.51328 1L3 3.51328L5.51328 6.02656L6.13607 5.40377L4.68605 3.95376H11.3672L10.3574 4.9635L10.9802 5.58628L13.0531 3.51338L10.9802 1.44048L10.3574 2.06327L11.3672 3.073H4.68585L6.13607 1.62279L5.51328 1Z",fill:"#6B6B6B"}),r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.34761 12.3349C7.7281 12.5956 8.16848 12.7259 8.66875 12.7259C9.04923 12.7259 9.4121 12.6343 9.75736 12.4511C10.1026 12.2609 10.3739 12.0002 10.5712 11.669V12.5146C10.5712 12.888 10.4901 13.1945 10.3281 13.4341C10.166 13.6736 9.9476 13.8498 9.67281 13.9625C9.40506 14.0823 9.11265 14.1422 8.79557 14.1422C8.41509 14.1422 8.05574 14.0647 7.71753 13.9097C7.38637 13.7547 7.11509 13.5292 6.90371 13.2333L6.24843 13.8463C6.52323 14.2127 6.86144 14.5015 7.26306 14.7129C7.67173 14.9243 8.18257 15.03 8.79557 15.03C9.35221 15.03 9.85248 14.9314 10.2964 14.7341C10.7403 14.5368 11.0891 14.2514 11.3427 13.878C11.6034 13.5045 11.7338 13.0501 11.7338 12.5146V7.14548H10.7086V8.19182C10.4901 7.85361 10.2118 7.57881 9.87362 7.36743C9.54245 7.15605 9.15492 7.05036 8.71102 7.05036C8.20371 7.05036 7.75628 7.18071 7.36875 7.44141C6.98826 7.69507 6.68881 8.04033 6.47038 8.47718C6.25195 8.91404 6.14274 9.39317 6.14274 9.91457C6.14274 10.4148 6.24843 10.8799 6.45981 11.3097C6.67824 11.7325 6.97417 12.0742 7.34761 12.3349ZM9.71508 11.6373C9.5037 11.736 9.28175 11.7853 9.04923 11.7853C8.72511 11.7853 8.4327 11.7043 8.172 11.5422C7.9113 11.3731 7.70344 11.1512 7.54843 10.8764C7.40046 10.5945 7.32647 10.2845 7.32647 9.94628C7.32647 9.62921 7.39341 9.32623 7.52729 9.03734C7.66116 8.74141 7.84788 8.50184 8.08745 8.31865C8.33406 8.13545 8.62647 8.04385 8.96468 8.04385C9.29584 8.04385 9.60939 8.15659 9.90533 8.38206C10.2083 8.60049 10.4303 8.88585 10.5712 9.23816V10.6861C10.5148 10.8764 10.4091 11.056 10.2541 11.2251C10.1061 11.3942 9.92646 11.5316 9.71508 11.6373Z",fill:"#6B6B6B"})),be=r().forwardRef((function(e,t){return r().createElement(ee.Z,(0,K.Z)({},e,{svg:ue,ref:t}))}));be.getName=function(){return"icon-entity-gRPC-stroke"};const he=be;var pe=a(10907),ve=r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{d:"M1 2.5C1 1.67157 1.67157 1 2.5 1H13.5C14.3284 1 15 1.67157 15 2.5V10H14V2.5C14 2.22386 13.7761 2 13.5 2H2.5C2.22386 2 2 2.22386 2 2.5V13.5C2 13.7761 2.22386 14 2.5 14H10V15H2.5C1.67157 15 1 14.3284 1 13.5V2.5Z",fill:"#6B6B6B"}),r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 6.5C5 6.22386 5.22386 6 5.5 6H10.5C10.7761 6 11 6.22386 11 6.5V9.5C11 9.77614 10.7761 10 10.5 10H5.5C5.22386 10 5 9.77614 5 9.5V6.5ZM6 7V9H10V7H6Z",fill:"#6B6B6B"}),r().createElement("path",{d:"M15 12H12V15H15V12Z",fill:"#6B6B6B"})),me=r().forwardRef((function(e,t){return r().createElement(ee.Z,(0,K.Z)({},e,{svg:ve,ref:t}))}));me.getName=function(){return"icon-entity-environment-stroke"};const fe=me,ge={collection:(0,l.jsx)(ne,{}),folder:(0,l.jsx)(ie.Z,{}),http:(0,l.jsx)(le,{}),"ws-raw":(0,l.jsx)(de,{}),grpc:(0,l.jsx)(he,{}),"http-response":(0,l.jsx)(pe.Z,{}),environment:(0,l.jsx)(fe,{}),default:(0,l.jsx)(ne,{})},xe=()=>{const{tabs:e,closeAllNonSelectedTabs:t,closeTab:a,closeAllTabs:n,activeTab:i,recentlyClosed:r,openFromRecentlyClosed:o}=b(),s=0===e.length;return(0,l.jsxs)(P.Z,{children:[(0,l.jsx)(X.Z,{children:(0,l.jsx)(A.Z,{icon:(0,l.jsx)(Q.Z,{}),type:"tertiary","data-testid":"tabs-more-options-button"})}),(0,l.jsxs)(W.Z,{children:[(0,l.jsx)(Y.Z,{label:"Recently Closed Tabs",children:0===r.length?(0,l.jsx)(U.Z,{isDisabled:!0,children:"None"}):r.map(((e,t)=>(0,l.jsx)(U.Z,{onClick:()=>o(t),children:(0,l.jsxs)(G.Z,{alignItems:"center",gap:"spacing-s",children:[ge[e.tabType]||ge.default," ",e.title||"Untitled Tab"]})},e.id||e.pathname)))}),(0,l.jsx)(F,{}),(0,l.jsx)(U.Z,{onClick:()=>a(i),isDisabled:s,children:"Close Selected Tab"}),(0,l.jsx)(U.Z,{type:"destructive",onClick:()=>a(i,!0),isDisabled:s,children:"Force Close Selected Tab"}),(0,l.jsx)(U.Z,{onClick:()=>t(),isDisabled:s,children:"Close All but Selected Tab"}),(0,l.jsx)(U.Z,{onClick:()=>n(),isDisabled:s,children:"Close All Tabs"}),(0,l.jsx)(U.Z,{type:"destructive",onClick:()=>n(!0),isDisabled:s,children:"Force Close All Tabs"})]})]})};var Ce=a(3071),we=a(3341);const ye=V().div.withConfig({displayName:"tab-scrollable-layout__TabsWrapper",componentId:"sc-8w3ijh-0"})(["--border-start-percent:30%;--border-end-percent:70%;display:flex;flex:1 1 auto;overflow-y:hidden;"]),Te=V().ul.withConfig({displayName:"tab-scrollable-layout__TabList",componentId:"sc-8w3ijh-1"})(["margin:0;padding:0;flex:0 1 auto;box-sizing:border-box;display:grid;grid-auto-flow:column;flex-wrap:nowrap;grid-template-columns:repeat( auto-fit,minmax(var(--tab-item-min-width),1fr) );overflow:scroll hidden;padding-bottom:48px;margin-bottom:-48px;"]),je=V().div.withConfig({displayName:"tab-scrollable-layout__TabRightActions",componentId:"sc-8w3ijh-2"})(["flex:1;display:flex;align-items:center;padding:var(--spacing-s);border-left:",";border-bottom:1px solid var(--border-color-default);border-image-slice:0 0 0 1;border-image-source:linear-gradient( to bottom,var(--background-color-primary) var(--border-start-percent),var(--border-color-default) var(--border-start-percent),var(--border-color-default) var(--border-end-percent),var(--background-color-primary) var(--border-end-percent),var(--background-color-primary) calc(100% - 1px),var(--border-color-default) calc(100% - 1px) );"],(e=>e.$tabsCount?"1px solid":"0")),Le=V().div.withConfig({displayName:"tab-scrollable-layout__TabLeftActions",componentId:"sc-8w3ijh-3"})(["display:flex;align-items:center;padding:var(--spacing-s);border-right:1px solid var(--border-color-default);border-bottom:1px solid var(--border-color-default);"]),ke=({minWidth:e,maxWidth:t,tabsCount:a,renderTabs:n,rightActions:r})=>{const o=(0,i.useRef)(null),s=(0,i.useRef)(null),[c,d]=(0,i.useState)(!1),[u,b]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1),[v,m]=(0,i.useState)(`${t}px`);return(0,i.useEffect)((()=>{let e;if(o.current&&s.current){const n=o.current.scrollWidth-o.current.clientWidth>0,i=Math.round(s.current.clientWidth/t);m(i<a?"100%":`${t}px`),d(n),n&&(e=setTimeout((()=>{var e;null==(e=o.current)||e.scrollTo(o.current.scrollWidth,0)}),1))}return()=>{e&&clearTimeout(e)}}),[a,t]),(0,i.useEffect)((()=>{let e=null;const t=o.current,a=()=>{const e=0===(null==t?void 0:t.scrollLeft),a=!!t&&t.scrollLeft===t.scrollWidth-t.clientWidth;b(e),p(a)},n=()=>{e&&clearTimeout(e),e=setTimeout(a,100)};return"onscrollend"in window?null==t||t.addEventListener("scrollend",a):null==t||t.addEventListener("scroll",n),()=>{"onscrollend"in window?null==t||t.removeEventListener("scrollend",a):null==t||t.removeEventListener("scroll",n),e&&clearTimeout(e)}}),[c]),(0,l.jsxs)(ye,{ref:s,children:[c&&(0,l.jsx)(Le,{children:(0,l.jsx)(A.Z,{type:"tertiary",icon:(0,l.jsx)(Ce.Z,{}),onClick:()=>{var t;null==(t=o.current)||t.scrollBy({left:2*-e,behavior:"smooth"})},isDisabled:u})}),(0,l.jsx)(Te,{ref:o,children:n(v,c)}),(0,l.jsxs)(je,{$tabsCount:a,children:[c&&(0,l.jsx)(A.Z,{type:"tertiary",icon:(0,l.jsx)(we.Z,{}),onClick:()=>{var t;null==(t=o.current)||t.scrollBy({left:2*e,behavior:"smooth"})},isDisabled:h}),r]})]})};var Ee=r().createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("g",{clipPath:"url(#clip0)"},r().createElement("path",{d:"M6.56065 5.85356L9.70711 2.70711L9 2L5.85355 5.14645L2.70711 2.00002L2 2.70712L5.14644 5.85356L2 9L2.70711 9.70711L5.85355 6.56067L9 9.70712L9.70711 9.00002L6.56065 5.85356Z",fill:"#6B6B6B"})),r().createElement("defs",null,r().createElement("clipPath",{id:"clip0"},r().createElement("rect",{width:"12",height:"12",fill:"white"})))),Ne=r().forwardRef((function(e,t){return r().createElement(ee.Z,(0,K.Z)({},e,{svg:Ee,ref:t}))}));Ne.getName=function(){return"icon-action-close-stroke-small"};const Ze=Ne,Me=V().li.withConfig({displayName:"tab-header-item__TabListItem",componentId:"sc-13siyzj-0"})(["position:relative;padding:0;margin:0;list-style:none;box-sizing:border-box;display:flex;width:100%;min-width:var(--tab-item-min-width);max-width:","px;min-height:var(--wp-tabs-header-height);align-items:stretch;"," & + &{border-left:var(--border-width-default,1px) var(--border-style-solid,solid);border-image-slice:0 0 0 1;border-image-source:linear-gradient( to bottom,var(--background-color-primary) var(--border-start-percent),var(--border-color-default) var(--border-start-percent),var(--border-color-default) var(--border-end-percent),var(--background-color-primary) var(--border-end-percent),var(--background-color-primary) calc(100% - 1px),var(--border-color-default) calc(100% - 1px) );}&:last-child .tab-title-container{border-right:0;}"],172,(e=>e.$isActive&&(0,D.css)(["&::before{content:'';position:absolute;bottom:0;left:8px;right:8px;height:1px;background-color:var(--base-color-brand);transition:opacity 0.2s ease-in-out;}"]))),Oe=V()(o.Link).withConfig({displayName:"tab-header-item__TabHeaderLink",componentId:"sc-13siyzj-1"})(["position:relative;display:flex;width:",";flex:1;"],(e=>e.width)),Ie=V().div.withConfig({displayName:"tab-header-item__TabHeaderDiv",componentId:"sc-13siyzj-2"})(["width:100%;display:flex;gap:0.5rem;align-items:center;padding:calc(1px + var(--spacing-s)) var(--spacing-m);box-sizing:border-box;font-style:",";&:hover .tab-close-action{display:block;}",""],(e=>e.$isPreviewTab?"italic":""),(e=>e.$isDirty&&(0,D.css)([".tab-close-icon{display:none;}&:hover{.tab-close-icon{display:flex;}.dirty-indicator{display:none;}}"]))),Re=V().div.withConfig({displayName:"tab-header-item__TabHeaderIconsWrapper",componentId:"sc-13siyzj-3"})(["display:flex;"]),Be=V().div.withConfig({displayName:"tab-header-item__TabTitle",componentId:"sc-13siyzj-4"})(["font-family:var(--text-family-default);line-height:var(--line-height-s);font-size:var(--text-size-s);font-weight:var(--text-weight-regular);padding:0 var(--spacing-xs);flex:1;align-self:center;white-space:nowrap;overflow-x:hidden;"]),_e=V().div.withConfig({displayName:"tab-header-item__TabCloseIconWrapper",componentId:"sc-13siyzj-5"})(["position:relative;display:flex;align-items:center;justify-content:center;height:100%;"]),Se=V().div.withConfig({displayName:"tab-header-item__DirtyStateIndicator",componentId:"sc-13siyzj-6"})(["position:relative;z-index:1;width:calc(1.02 * var(--spacing-s));height:var(--spacing-s);border-radius:50%;background-color:var(--base-color-brand);"]),De=V().div.withConfig({displayName:"tab-header-item__CloseTabButtonWrapper",componentId:"sc-13siyzj-7"})(["display:none;position:absolute;top:50%;right:0;transform:translate(0,-50%);padding-left:var(--spacing-l);z-index:1;background:linear-gradient( 270deg,var(--background-color-primary) calc(24px + var(--spacing-xs)),rgba(var(--background-color-primary-rgb) / 95.8%) 0,rgba(var(--background-color-primary-rgb) / 0%) );"]),Ve=V().div.withConfig({displayName:"tab-header-item__TabTruncShadow",componentId:"sc-13siyzj-8"})(["--border:2px;width:24px;height:calc(100% - calc(var(--border) * 2));position:absolute;top:var(--border);right:calc(24px - var(--spacing-m));z-index:0;background:linear-gradient( 270deg,var(--background-color-primary) 33.33%,rgba(var(--background-color-primary-rgb) / 95.8%) 0,rgba(var(--background-color-primary-rgb) / 0%) );"]),Ae=e=>null!=e&&e.isConflicted?"[CONFLICT] ":"",He=e=>{const{activeTab:t,setActiveTab:a,closeTab:n,setTabsMeta:r,tabsMeta:o}=b(),s=t===e.tab.id,c=o[e.tab.id],d=(null==c?void 0:c.currentlyActiveURL)||e.tab.pathname,u=w(e.tab,o),h=(0,i.useCallback)((t=>(t.preventDefault(),t.stopPropagation(),n(e.tab.id),null)),[n,e.tab.id]),p=(0,i.useCallback)((()=>{r((t=>Object.assign({},t,{[e.tab.id]:Object.assign({},c,{isPinned:!0})})))}),[e.tab.id,c,r]);return(0,l.jsx)(Me,{$isActive:s,children:(0,l.jsx)(Oe,{width:e.width,to:d,onClick:t=>{!s&&a(e.tab.id),s&&t.preventDefault(),s&&t.stopPropagation()},state:{navigationParams:{tabId:e.tab.id}},onContextMenu:e.onContextMenu,children:(0,l.jsxs)(Ie,{className:"tab-title-container",$isActive:s,$isDirty:null==c?void 0:c.isDirty,$isPreviewTab:u,onDoubleClick:p,"data-testid":"tab-header",children:[(0,l.jsx)(Re,{children:ge[null==c?void 0:c.tabType]||ge.default}),(0,l.jsxs)(Be,{title:(null==c?void 0:c.title)||"Loading...",children:[Ae(c),(null==c?void 0:c.title)||"Loading..."]}),(0,l.jsxs)(_e,{onClick:h,"data-testid":"tab-close-icon",children:[(null==c?void 0:c.isDirty)&&(0,l.jsx)(Se,{className:"dirty-indicator"}),(0,l.jsx)(De,{className:"tab-close-action",children:(0,l.jsx)(A.Z,{className:"tab-close-icon",type:"tertiary",size:"small",icon:(0,l.jsx)(Ze,{})})})]}),(0,l.jsx)(Ve,{})]})},e.tab.id)})},Pe=V().div.withConfig({displayName:"tabs-header__TabsHeaderWrapper",componentId:"sc-1831r9j-0"})(["--tab-item-min-width:","px;width:100%;overflow-x:auto;display:flex;min-height:var(--wp-tabs-header-height);border-bottom:1px solid var(--border-color-default);&::-webkit-scrollbar{display:none;}-ms-overflow-style:none;scrollbar-width:none;"],90),We=V().div.withConfig({displayName:"tabs-header__TabHeaderFiller",componentId:"sc-1831r9j-1"})(["flex:0;border-bottom:1px solid var(--border-color-default);display:flex;align-items:center;justify-content:flex-start;padding:0 var(--spacing-xs);gap:var(--spacing-xs);"]),Ue=()=>{const{tabs:e}=b(),[t,a]=(0,i.useState)({open:!1}),{workspaceId:n}=(0,o.useParams)(),r=M(),s=(0,i.useCallback)((()=>{if(!n)return;const e=(0,g.v4)();r(`/workspace/${n}/request/create?requestId=${e}`,{},{newTab:!0,customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"})}),[n,r]),c=(0,i.useCallback)(((e,t)=>{t.preventDefault(),a({open:!0,forTabId:e,position:{x:t.pageX,y:t.pageY}})}),[]),d=(0,i.useCallback)((()=>a({open:!1})),[]),u=(0,i.useCallback)((t=>e.map((e=>(0,l.jsx)(He,{width:t,tab:e,onContextMenu:t=>c(e.id,t)},e.id)))),[e,c]);return(0,l.jsxs)(Pe,{children:[(0,l.jsx)(ke,{minWidth:90,maxWidth:172,tabsCount:e.length,renderTabs:u,rightActions:(0,l.jsx)(A.Z,{type:"tertiary",icon:(0,l.jsx)(H.Z,{}),onClick:s})}),(0,l.jsx)(J,{isOpen:null==t?void 0:t.open,forTabId:null==t?void 0:t.forTabId,position:null==t?void 0:t.position,closeMenu:d,createNewRequest:s}),(0,l.jsx)(We,{children:(0,l.jsx)(xe,{})})]})};var $e=a(22833),ze=a.n($e);const Fe=V().div.withConfig({displayName:"tab__TabContentWrapper",componentId:"sc-16oxg4e-0"})(["display:",";height:var(--wp-workbench-height);"],(({$isHidden:e})=>e?"none":"block")),qe=e=>{const t=!v();return m(),(0,l.jsx)(Fe,{className:ze()({"tab-content":!0,"is-hidden":t}),$isHidden:t,children:e.children})},Je=({tab:e})=>{const{tabsMeta:t}=b(),a=T(e),n=j(e),r=(0,i.useMemo)((()=>{var i,r,o,l;return{tabId:e.id,pathname:e.pathname,isDirty:null==(i=t[e.id])?void 0:i.isDirty,isConflicted:null==(r=t[e.id])?void 0:r.isConflicted,title:(null==(o=t[e.id])?void 0:o.title)||"",tabType:(null==(l=t[e.id])?void 0:l.tabType)||"http",setTabTitle:n,setTabState:a}}),[e.id,e.pathname,t,n,a]);return(0,l.jsx)(h.Provider,{value:r,children:(0,l.jsx)(qe,{children:e.element},e.pathname)})},Xe=({fallback:e})=>{const{tabs:t}=b();return(0,i.useMemo)((()=>(0,l.jsxs)(l.Fragment,{children:[0===t.length&&e?e:"",t.map((e=>(0,l.jsx)(Je,{tab:e},e.pathname)))]})),[t,e])},Ye=({children:e})=>(y(),f(),(0,l.jsxs)(l.Fragment,{children:[e," "]})),Ge="tab-close-confirmation-modal",Qe=e=>`This tab ${e||"Untitled tab"} has unsaved changes which will be lost if you choose to close it. Save these changes to avoid losing your work.`,Ke=[{title:"Don't Save",isDefaultOnDismiss:!0},{title:"Cancel",isPrimary:!0}],et="tab-force-close-confirmation-modal",tt=e=>`${e} tab${1===e?" has":"s have"} unsaved changes. Your changes will be lost if you force close this tab. Are you sure you want to force close?`,at=[{title:"Cancel",isDefaultOnDismiss:!0},{title:"Force Close",isPrimary:!0}],nt=(e,t)=>{var a;return null==(a=t[e])?void 0:a.isDirty},it=async(e,t)=>{const a=await e.showWarningDialog({uid:Ge,subject:"DO YOU WANT TO SAVE?",message:Qe(t),options:Ke});return!a||"Cancel"!==a.title},rt=({fallback:e})=>{const t=M(),a=(0,o.useMatches)(),n=S.Modals.getModals(),[r,s]=(0,i.useState)(null),[c,d]=(0,i.useState)([]),[b,h]=(0,i.useState)({}),[p,v]=(0,i.useState)([]),m=(0,i.useCallback)((e=>{var a;s(e.id),t((null==(a=b[e.id])?void 0:a.currentlyActiveURL)||e.pathname)}),[t,b]),f=(0,i.useCallback)((e=>{e&&v((t=>{var a,n,i;return[...t,{id:e.id,pathname:(null==(a=b[e.id])?void 0:a.currentlyActiveURL)||e.pathname,title:null==(n=b[e.id])?void 0:n.title,tabType:null==(i=b[e.id])?void 0:i.tabType}]}))}),[b]),g=(0,i.useCallback)((e=>v((t=>[...t].splice(e,1)))),[]),x=(0,i.useCallback)((e=>{const a=p[e];t(a.pathname,{},{newTab:!0,customNavEvent:"VIEW_COLLECTION_FOLDER_REQUEST"}),g(e)}),[g,t,p]),C=(0,i.useCallback)((async(e,i=!1)=>{var o;const l=c.findIndex((t=>t.id===e));if(-1===l)return;const s=c[l],u=nt(s.id,b);if(!i&&u&&!await it(n,null==(o=b[e])?void 0:o.title))return;if(s.id===r){const e=((e,t)=>{const a=t-1;return e[t+1]||e[a]})(c,l);if(e)m(e);else{const e=a.at(-2);(null==e?void 0:e.pathname)&&t(e.pathname)}}const h=c.filter((t=>t.id!==e));d(h),f(s)}),[t,m,c,a,b,n,r,f]),w=(0,i.useCallback)((async(e=!1)=>{if(e){const e=c.filter((e=>nt(e.id,b))).length;if(e&&!await(async(e,t)=>{const a=await e.showWarningDialog({uid:et,subject:"Confirm force close",message:tt(t),options:at});return!a||"Cancel"!==a.title})(n,e))return;for(const e of c)f(e);d([]);const i=a.at(-2);return(null==i?void 0:i.pathname)&&t(i.pathname)}const i=[];for(const e of c){var r;nt(e.id,b)&&!await it(n,null==(r=b[e.id])?void 0:r.title)||(f(e),i.push(e.id))}d((e=>e.filter((e=>!i.includes(e.id)))))}),[c,n,a,t,b,f]),y=(0,i.useCallback)((async(e=r)=>{const t=[];for(const i of c){var a;i.id!==e&&(nt(i.id,b)&&!await it(n,null==(a=b[i.id])?void 0:a.title)||t.push(i.id))}d((e=>e.filter((e=>!t.includes(e.id)))))}),[r,c,n,b]),T=(0,i.useMemo)((()=>({tabs:c,setTabs:d,tabsMeta:b,setTabsMeta:h,recentlyClosed:p,closeTab:C,closeAllTabs:w,activeTab:r,setActiveTab:s,closeAllNonSelectedTabs:y,openFromRecentlyClosed:x})),[c,b,p,C,r,s,w,y,x]);return(0,l.jsx)(u.Provider,{value:T,children:(0,l.jsxs)(Ye,{children:[(0,l.jsx)(S.Modals.Ui.ModalDialog,{uid:Ge}),(0,l.jsx)(S.Modals.Ui.ModalDialog,{uid:et}),(0,l.jsx)(Ue,{}),(0,l.jsx)(Xe,{fallback:e})]})})};var ot,lt=a(47291);const st=null==(ot=window)||null==(ot=ot.location)?void 0:ot.pathname,ct=(localStorage.getItem("lastVisitedRoute"),()=>{let e="/";try{var t;e=JSON.parse(null==(t=window)?void 0:t.NAVIGATION_CONTEXT).to}catch(e){console.error("Failed to parse NAVIGATION_CONTEXT")}return e}),dt=(e,t)=>{const a=[{opts:{initialEntries:[ct()],initialIndex:0},router:(0,lt.sentryRouter)(o.createMemoryRouter)},(0,lt.sentryRouter)(window.HOST_APP_NAME?o.createBrowserRouter:o.createMemoryRouter),(0,lt.sentryRouter)(o.createMemoryRouter)][0];return{platformRouterConfig:a,router:a.router(e,Object.assign({},a.opts,t))}}},3071:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(7560),i=a(40540),r=a.n(i),o=a(207),l=r().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.06058 7.99996L10.707 11.6464L9.99992 12.3535L5.64636 7.99996L9.99992 3.64641L10.707 4.35352L7.06058 7.99996Z",fill:"#6B6B6B"})),s=r().forwardRef((function(e,t){return r().createElement(o.Z,(0,n.Z)({},e,{svg:l,ref:t}))}));s.getName=function(){return"icon-direction-left"};const c=s}}]);
//# sourceMappingURL=3571.1f45e37b965eeab1.js.map