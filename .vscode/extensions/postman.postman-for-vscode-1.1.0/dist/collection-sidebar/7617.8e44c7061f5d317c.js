"use strict";(self.webpackChunkcollection_sidebar=self.webpackChunkcollection_sidebar||[]).push([[7617],{54174:(e,r,o)=>{o.r(r),o.d(r,{InlineEditor:()=>h});var t=o(40540),n=o.n(t);const a=new Set(["Alt","Meta","Control","Shift"]),i=({ctrlKey:e,shiftKey:r,altKey:o,keys:n,callback:i})=>{const l=(0,t.useRef)([]),c=(0,t.useRef)(!1),s=(0,t.useRef)(!1),d=(0,t.useRef)(!1),u=(0,t.useRef)(null),v=(0,t.useRef)(i);v.current=i,(0,t.useEffect)((()=>{const t=t=>{if((t.ctrlKey||t.metaKey)&&(c.current=!0),t.shiftKey&&(s.current=!0),t.altKey&&(d.current=!0),!a.has(t.key)&&Array.isArray(n)){const e=n.findIndex((e=>e.toLowerCase()===t.key.toLowerCase()));-1!==e&&(l.current[e]=t.key)}const i=!e||c.current,f=!r||s.current,h=!o||d.current;if(u.current=setTimeout((()=>{c.current=!1,s.current=!1,d.current=!1,l.current=[]}),250),i&&f&&h){if(Array.isArray(n)&&((e,r)=>{let o=0;for(const n of e){var t;if(n.toLowerCase()!==(null==(t=r[o])?void 0:t.toLowerCase()))return!1;o++}return!0})(n,l.current))return v.current();if(n===t.key)return v.current()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t),u.current&&clearTimeout(u.current)}}),[e,r,o,n])};var l=o(59530),c=o.n(l),s=o(52322);const d=c().input.withConfig({displayName:"input__StyledInput",componentId:"sc-q7849h-0"})(["width:100%;font-size:var(--text-size-m);color:var(--content-color-primary);font-weight:inherit;line-height:var(--line-height-m);border-radius:var(--border-radius-default);background-color:var(--background-color-secondary);border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);&:hover{border-color:var(--border-color-strong);background-color:var(--background-color-tertiary);}&:focus{border-color:var(--border-color-strong);background-color:var(--background-color-primary);}&:hover,&:focus,&:active{outline:none;}"]),u=e=>{const{value:r,type:o,placeholder:t,autoFocus:n,disabled:a,testId:i,onClick:l,ref:c,onBlur:u,onChange:v,readOnly:f,className:h}=e;return(0,s.jsx)("div",{className:"input-field",children:(0,s.jsx)(d,{className:h,ref:c,autoFocus:n,value:r,onBlur:u,onChange:e=>{v&&v(e.target.value)},onClick:l,type:o||"text",placeholder:t,disabled:a,readOnly:f,"data-testid":null!=i?i:"base-input-field"})})},v=c().div.withConfig({displayName:"inline-editor__InlineEditorWrapper",componentId:"sc-r9fg6l-0"})(["width:100%;padding-right:var(--spacing-m);"]),f=c().div.withConfig({displayName:"inline-editor__StyledDiv",componentId:"sc-r9fg6l-1"})(["margin-right:var(--spacing-xs);padding:var(--spacing-xs);padding-right:var(--spacing-s);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;:hover{background-color:var(--highlight-background-color-primary);border-radius:var(--border-radius-default);}"]),h=n().forwardRef(((e,r)=>{const[o,n]=(0,t.useState)(e.value);(0,t.useEffect)((()=>{n(e.value)}),[e.value]);const{placeholder:a,className:l,setIsEditMode:c,isEditMode:d,isDisabled:h,onSubmit:p,onCancel:g,onChange:y,onClick:b}=e;return i({keys:"Enter",callback:()=>{if(o!==e.value&&o.trim()){const e=o.trim();p(e),n(e),c&&c(!1)}}}),i({keys:"Escape",callback:()=>{c&&c(!1),n(e.value),g&&g()}}),d&&!h?(0,s.jsx)(v,{children:(0,s.jsx)(u,{autoFocus:!0,className:`inline-input ${null!=l?l:""}`,placeholder:a,ref:r,value:o,onBlur:()=>{if(o.trim()){const e=o.trim();p(e),n(e)}else n(e.value);c&&c(!1)},onChange:e=>{y&&y(e),n(e)},onClick:e=>{e.stopPropagation(),e.preventDefault(),b&&b()}})}):(0,s.jsx)(f,{role:"navigation",title:e.value,className:l||"",children:e.value})}))}}]);
//# sourceMappingURL=7617.8e44c7061f5d317c.js.map