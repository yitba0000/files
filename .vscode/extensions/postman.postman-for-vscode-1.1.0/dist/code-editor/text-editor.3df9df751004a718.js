/*! For license information please see text-editor.3df9df751004a718.js.LICENSE.txt */
"use strict";(self.webpackChunkcode_editor=self.webpackChunkcode_editor||[]).push([[6357],{94656:(e,t,o)=>{o.r(t),o.d(t,{default:()=>te,registerThemes:()=>J});var i=o(7560),n=o(40540),r=o.n(n),s=o(58397);function a(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}function d(e){return!e||!(!Array.isArray(e)||0!==e.length)||"object"==typeof e&&0===Object.keys(e).length}function l(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e))return`${e.map((e=>null==e?e:l(e)))}`;if(function(e){const t=typeof e;return"symbol"==t||"object"===t&&null!=e&&"[object Symbol]"==function(e){const t=Object.prototype.toString;return null==e?void 0===e?"[object Undefined]":"[object Null]":t.call(e)}(e)}(e))return e.toString();const t=`${e}`;return"0"==t&&1/e==-1/0?"-0":t}function u(e,t){if(typeof e!=typeof t)return!1;const o=typeof e;return["string","number","boolean","undefined"].includes(typeof e)?e===t:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(((e,o)=>u(e,t[o]))):"object"===o&&(null===e&&null===t||null!==e&&null!==t&&!Array.isArray(e)&&!Array.isArray(t)&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((o=>u(e[o],t[o]))))}function g(e){var t="    ";if(Number.isNaN(Number.parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}var o=["\n"];for(let e=0;e<100;e++)o.push(o[e]+t);return o}function c(){this.step="    ",this.shift=g(this.step)}function h(e){return!!/<\/{0,1}(hr|link|br|meta|param|input|img|col|area|base|embed)([\s/>])/gi.test(e)}c.prototype.xml=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=!0);var i=!o,n=e.replace(/>\s*<([^/])/g,"><$1").replace(/>\n</g,"><").replace(/</g,"~::~<").split("~::~"),r=n.length,s=!1,a=0,d="",l=t?g(t):this.shift;for(let e=0;e<r;e++)n[e].search(/<!/)>-1?(d+=l[a]+n[e],s=!0,(n[e].search(/-->/)>-1||n[e].search(/]>/)>-1||n[e].search(/!DOCTYPE/)>-1)&&(s=!1)):n[e].search(/-->/)>-1||n[e].search(/]>/)>-1?(d+=n[e],s=!1):/^<\w/.test(n[e-1])&&/^<\/\w/.test(n[e])&&/^<[\w,.:-]+/.exec(n[e-1])==/^<\/[\w,.:-]+/.exec(n[e])[0].replace("/","")?(d+=n[e].trim(),s||h(n[e])&&i||a--):n[e].search(/<\w/)>-1&&-1==n[e].search(/<\//)&&-1==n[e].search(/\/>/)?d=h(n[e])&&i?d+=s?n[e]:l[a]+n[e]:d+=s?n[e]:l[a++]+n[e]:n[e].search(/<\w/)>-1&&n[e].search(/<\//)>-1?d=d+=s?n[e]:l[a]+n[e]:n[e].search(/<\//)>-1?h(n[e])&&i?d=d+=s?n[e]:l[a]+n[e]:(a>0&&a--,d=d+=s?n[e]:l[a]+n[e].trim()):n[e].search(/\/>/)>-1?d=d+=s?n[e]:l[a]+n[e].trim():n[e].search(/<\?/)>-1||n[e].search(/xmlns:/)>-1||n[e].search(/xmlns=/)>-1?d+=l[a]+n[e]:d+=n[e];return"\n"==d[0]?d.slice(1):d};const p=new c;var f=o(43753),m=o(83951);const y=e=>(0,m.colord)(e).toHex(),k=()=>{var e,t,o,i;const n=[],r=null==(e=window)?void 0:e.getComputedStyle(document.documentElement);return n.push({id:"light",type:"light",props:{base:"vs",inherit:!0,colors:{"editor.background":y((null==r||null==(t=r.getPropertyValue("--code-editor-background"))?void 0:t.trim())||f.light["background-color-primary"])},rules:[{token:"comment",foreground:"#5F8FBF",fontStyle:""},{token:"string",foreground:"#2A00FF",fontStyle:""},{token:"constant.character.escape",foreground:"#7090FF",fontStyle:""},{token:"constant.other.placeholder",foreground:"#7090FF",fontStyle:""},{token:"constant.numeric",foreground:"#FF00AA",fontStyle:""},{token:"keyword.other.unit",foreground:"#FF00AA",fontStyle:""},{token:"keyword",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.primitive",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.class",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.struct",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.enum",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.modifier",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.namespace",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.template",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.function",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.union",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.js",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.interface",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.impl",foreground:"#800555",fontStyle:"bold"},{token:"storage.type.trait",foreground:"#800555",fontStyle:"bold"},{token:"storage.modifier",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator.new",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator.delete",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator.word",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator.sizeof",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator.alignof",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator.logical.python",foreground:"#800555",fontStyle:"bold"},{token:"constant.language",foreground:"#800555",fontStyle:"bold"},{token:"variable.language",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.function",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.class",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.struct",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.enum",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.union",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.trait",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.interface",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.impl",foreground:"#800555",fontStyle:"bold"},{token:"keyword.declaration.type",foreground:"#800555",fontStyle:"bold"},{token:"keyword.operator",foreground:"#000000",fontStyle:""},{token:"entity.name.type",foreground:"#800555",fontStyle:""},{token:"storage.type",foreground:"#800555",fontStyle:""},{token:"entity.name.type.template",foreground:"#336633",fontStyle:"bold"},{token:"meta.kernel-call punctuation.section.kernel",foreground:"#336633",fontStyle:"bold"},{token:"meta.kernel-call entity.name.function",foreground:"#336633",fontStyle:""},{token:"variable.other.member",foreground:"#333333",fontStyle:""},{token:"variable.other.property",foreground:"#333333",fontStyle:""},{token:"entity.name.function",foreground:"#000000",fontStyle:"bold"},{token:"meta.preprocessor",foreground:"#808080",fontStyle:""},{token:"meta.preprocessor keyword.control.directive",foreground:"#7F3F6A",fontStyle:"bold"},{token:"meta.preprocessor string.quoted",foreground:"#9580FF",fontStyle:""},{token:"support.function",foreground:"#642880",fontStyle:"bold"},{token:"support.type.python",foreground:"#642880",fontStyle:"bold"},{token:"support.type.posix-reserved",foreground:"#642880",fontStyle:"bold"},{token:"variable.parameter.function.language.special.self",foreground:"#000000",fontStyle:"italic"},{token:"variable.language.special.self",foreground:"#000000",fontStyle:"italic"},{token:"variable.parameter.function.language.special.cls",foreground:"#000000",fontStyle:"italic"},{token:"variable.language.special.cls",foreground:"#000000",fontStyle:"italic"},{token:"entity.name.function.decorator",foreground:"#7D7D7D",fontStyle:"italic"},{token:"string.quoted.docstring",foreground:"#406080",fontStyle:""},{token:"entity.name.tag",foreground:"#800555",fontStyle:"bold"},{token:"entity.other.attribute-name",foreground:"#800555",fontStyle:""},{token:"meta.tag.preprocessor entity.name.tag",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.preprocessor entity.other.attribute-name",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.preprocessor string",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.preprocessor text",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.metadata.doctype entity.name.tag",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.metadata.doctype entity.other.attribute-name",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.metadata.doctype string",foreground:"#5F8FBF",fontStyle:"italic"},{token:"meta.tag.metadata.doctype text",foreground:"#5F8FBF",fontStyle:"italic"},{token:"entity.name.section",foreground:"#800555",fontStyle:"bold"},{token:"punctuation.definition.heading",foreground:"#800555",fontStyle:"bold"},{token:"markup.inline.raw",foreground:"#FF00AA",fontStyle:""},{token:"punctuation.definition.raw",foreground:"#FF00AA",fontStyle:""},{token:"punctuation.definition.list",foreground:"#000000",fontStyle:"bold"},{token:"markup.bold",foreground:"#000000",fontStyle:"bold"},{token:"markup.underline",foreground:"#000000",fontStyle:"underline"},{token:"markup.italic",foreground:"#000000",fontStyle:"italic"},{token:"keyword.codetag",foreground:"#86A3BF",fontStyle:"bold"},{token:"support",foreground:"#336633",fontStyle:""},{token:"token.info-token",foreground:"#316BCD"},{token:"token.warn-token",foreground:"#CD9731"},{token:"token.error-token",foreground:"#CD3131"},{token:"token.debug-token",foreground:"#800080"},{token:"postman.variable.json",foreground:"#F26B3A",fontStyle:"italic"},{token:"entity.name.tag.mustache",foreground:"#F26B3A",fontStyle:"italic"},{token:"postman.variable.string.json",foreground:"#F26B3A",fontStyle:"italic"},{token:"key.identifier",foreground:"#7f0055"},{token:"argument.identifier",foreground:"#7f007f"},{token:"graphql.types",foreground:"#7f007f"}]}},{id:"dark",type:"dark",props:{base:"vs-dark",inherit:!0,colors:{"activityBar.background":"#282828","activityBar.foreground":"#f8f8f2","badge.background":"#75715e","badge.foreground":"#f8f8f2","button.background":"#75715e","debugToolBar.background":"#1e1f1c","diffEditor.insertedTextBackground":"#4b661680","diffEditor.removedTextBackground":"#90274a70","dropdown.background":"#414339","dropdown.listBackground":"#1e1f1c","editor.background":y((null==r||null==(o=r.getPropertyValue("--code-editor-background"))?void 0:o.trim())||f.dark["background-color-primary"]),"editor.foreground":"#f8f8f2","editor.lineHighlightBackground":y((null==r||null==(i=r.getPropertyValue("--code-editor-lineHighlightBackground"))?void 0:i.trim())||"#3e3d32"),"editor.selectionBackground":"#878b9180","editor.selectionHighlightBackground":"#575b6180","editor.wordHighlightBackground":"#4a4a7680","editor.wordHighlightStrongBackground":"#6a6a9680","editorCursor.foreground":"#f8f8f0","editorGroup.border":"#34352f","editorGroup.dropBackground":"#41433980","editorGroupHeader.tabsBackground":"#1e1f1c","editorHoverWidget.background":"#414339","editorHoverWidget.border":"#75715e","editorIndentGuide.activeBackground":"#767771","editorIndentGuide.background":"#464741","editorLineNumber.activeForeground":"#c2c2bf","editorLineNumber.foreground":"#90908a","editorSuggestWidget.background":"#272822","editorSuggestWidget.border":"#75715e","editorWhitespace.foreground":"#464741","editorWidget.background":"#1e1f1c",focusBorder:"#75715e","input.background":"#414339","inputOption.activeBorder":"#75715e","inputValidation.errorBackground":"#90274a","inputValidation.errorBorder":"#f92672","inputValidation.infoBackground":"#546190","inputValidation.infoBorder":"#819aff","inputValidation.warningBackground":"#848528","inputValidation.warningBorder":"#e2e22e","list.activeSelectionBackground":"#75715e","list.dropBackground":"#414339","list.focusBackground":"#414339","list.highlightForeground":"#f8f8f2","list.hoverBackground":"#3e3d32","list.inactiveSelectionBackground":"#414339","menu.background":"#1e1f1c","menu.foreground":"#cccccc","minimap.selectionHighlight":"#878b9180","panel.border":"#414339","panelTitle.activeBorder":"#75715e","panelTitle.activeForeground":"#f8f8f2","panelTitle.inactiveForeground":"#75715e","peekView.border":"#75715e","peekViewEditor.background":"#272822","peekViewEditor.matchHighlightBackground":"#75715e","peekViewResult.background":"#1e1f1c","peekViewResult.matchHighlightBackground":"#75715e","peekViewResult.selectionBackground":"#414339","peekViewTitle.background":"#1e1f1c","pickerGroup.foreground":"#75715e","progressBar.background":"#75715e","selection.background":"#ccccc7","settings.numberInputBackground":"#32342d","settings.textInputBackground":"#32342d","sideBar.background":"#1e1f1c","sideBarSectionHeader.background":"#272822","statusBar.background":"#414339","statusBar.debuggingBackground":"#75715e","statusBar.noFolderBackground":"#414339","statusBarItem.remoteBackground":"#ac6218","tab.border":"#1e1f1c","tab.inactiveBackground":"#34352f","tab.inactiveForeground":"#ccccc7","terminal.ansiBlack":"#333333","terminal.ansiBlue":"#6a7ec8","terminal.ansiBrightBlack":"#666666","terminal.ansiBrightBlue":"#819aff","terminal.ansiBrightCyan":"#66d9ef","terminal.ansiBrightGreen":"#a6e22e","terminal.ansiBrightMagenta":"#ae81ff","terminal.ansiBrightRed":"#f92672","terminal.ansiBrightWhite":"#f8f8f2","terminal.ansiBrightYellow":"#e2e22e","terminal.ansiCyan":"#56adbc","terminal.ansiGreen":"#86b42b","terminal.ansiMagenta":"#8c6bc8","terminal.ansiRed":"#c4265e","terminal.ansiWhite":"#e3e3dd","terminal.ansiYellow":"#b3b42b","titleBar.activeBackground":"#1e1f1c","widget.shadow":"#000000"},rules:[{token:"meta.embedded",foreground:"#F8F8F2"},{token:"source.groovy.embedded",foreground:"#F8F8F2"},{token:"comment",foreground:"#88846F"},{token:"string",foreground:"#E6DB74"},{token:"punctuation.definition.template-expression",foreground:"#F92672"},{token:"punctuation.section.embedded",foreground:"#F92672"},{token:"meta.template.expression",foreground:"#F8F8F2"},{token:"constant.numeric",foreground:"#AE81FF"},{token:"constant.language",foreground:"#AE81FF"},{token:"constant.character",foreground:"#AE81FF"},{token:"constant.other",foreground:"#AE81FF"},{token:"variable",foreground:"#F8F8F2",fontStyle:""},{token:"keyword",foreground:"#F92672"},{token:"storage",foreground:"#F92672",fontStyle:""},{token:"storage.type",foreground:"#66D9EF",fontStyle:"italic"},{token:"entity.name.type",foreground:"#A6E22E",fontStyle:"underline"},{token:"entity.name.class",foreground:"#A6E22E",fontStyle:"underline"},{token:"entity.name.namespace",foreground:"#A6E22E",fontStyle:"underline"},{token:"entity.name.scope-resolution",foreground:"#A6E22E",fontStyle:"underline"},{token:"entity.other.inherited-class",foreground:"#A6E22E",fontStyle:"italic underline"},{token:"entity.name.function",foreground:"#A6E22E",fontStyle:""},{token:"variable.parameter",foreground:"#FD971F",fontStyle:"italic"},{token:"entity.name.tag",foreground:"#F92672",fontStyle:""},{token:"entity.other.attribute-name",foreground:"#A6E22E",fontStyle:""},{token:"support.function",foreground:"#66D9EF",fontStyle:""},{token:"support.constant",foreground:"#66D9EF",fontStyle:""},{token:"support.type",foreground:"#66D9EF",fontStyle:"italic"},{token:"support.class",foreground:"#66D9EF",fontStyle:"italic"},{token:"support.other.variable",fontStyle:""},{token:"invalid",foreground:"#F8F8F0",fontStyle:""},{token:"invalid.deprecated",foreground:"#F8F8F0"},{token:"meta.structure.dictionary.json string.quoted.double.json",foreground:"#CFCFC2"},{token:"meta.diff",foreground:"#75715E"},{token:"meta.diff.header",foreground:"#75715E"},{token:"markup.deleted",foreground:"#F92672"},{token:"markup.inserted",foreground:"#A6E22E"},{token:"markup.changed",foreground:"#E6DB74"},{token:"constant.numeric.line-number.find-in-files - match",foreground:"#AE81FFA0"},{token:"entity.name.filename.find-in-files",foreground:"#E6DB74"},{token:"markup.quote",foreground:"#F92672"},{token:"markup.list",foreground:"#E6DB74"},{token:"markup.bold",foreground:"#66D9EF"},{token:"markup.italic",foreground:"#66D9EF"},{token:"markup.inline.raw",foreground:"#FD971F",fontStyle:""},{token:"markup.heading",foreground:"#A6E22E"},{token:"markup.heading.setext",foreground:"#A6E22E",fontStyle:"bold"},{token:"markup.heading.markdown",fontStyle:"bold"},{token:"markup.quote.markdown",foreground:"#75715E",fontStyle:"italic"},{token:"markup.bold.markdown",fontStyle:"bold"},{token:"string.other.link.title.markdown",foreground:"#AE81FF"},{token:"string.other.link.description.markdown",foreground:"#AE81FF"},{token:"markup.underline.link.markdown",foreground:"#E6DB74"},{token:"markup.underline.link.image.markdown",foreground:"#E6DB74"},{token:"markup.italic.markdown",fontStyle:"italic"},{token:"markup.list.unnumbered.markdown",foreground:"#F8F8F2"},{token:"markup.list.numbered.markdown",foreground:"#F8F8F2"},{token:"punctuation.definition.list.begin.markdown",foreground:"#A6E22E"},{token:"token.info-token",foreground:"#6796E6"},{token:"token.warn-token",foreground:"#CD9731"},{token:"token.error-token",foreground:"#F44747"},{token:"token.debug-token",foreground:"#B267E6"},{token:"variable.language",foreground:"#FD971F"},{token:"postman.variable.json",foreground:"#F26B3A",fontStyle:"italic"},{token:"entity.name.tag.mustache",foreground:"#F26B3A",fontStyle:"italic"},{token:"postman.variable.string.json",foreground:"#F26B3A",fontStyle:"italic"},{token:"key.identifier",foreground:"#ffe200"},{token:"argument.identifier",foreground:"#fd971f"},{token:"graphql.types",foreground:"#66d9ef"}]}}),n},b="pretty",v="raw",S="Formatting...",w={text:"plaintext",c_cpp:"cpp",golang:"go",objectivec:"objective-c",ocaml:"fsharp",graphql_sdl:"graphql"},D=["editorFontFamily","responseFontSize","editorIndentCount","editorIndentType","editorAutoCloseBrackets","editorAutoCloseQuotes","editorRenderNonPrintable"],C=1,F=2,E=3,P=["hexdump","hex","base64","proto","mustache"],A="generic-code-editor-paint-time",B={GENERIC_EDITOR_PAINT_MARK:"generic-code-editor-paint-mark"};function M(e){switch(e){case"editorIndentType":return"space";case"editorIndentCount":return 4;default:return}}const I=/\\u([\dA-Fa-f]{4})|\\(\/)/g,L={"/":"/"},x={"\\u0008":"\\b","\\u0009":"\\t","\\u000a":"\\n","\\u000b":"\\u000b","\\u000c":"\\f","\\u000d":"\\r","\\u000A":"\\n","\\u000B":"\\u000b","\\u000C":"\\f","\\u000D":"\\r","\\u0022":'\\"'};function O(e){return w[e]||e}const T={json:function(e){return(t=e)?t.replace(I,((e,t,o)=>{return t?x[e]||(i=t,String.fromCodePoint(Number.parseInt(i,16))):o?L[o]:void 0;var i})):"";var t}};function W(e,t){e.languages.register({id:t})}var N=o(19578),V=o(24818);const H=o.n(V)()((async e=>{if(e){const e=await navigator.permissions.query({name:"clipboard-write"});return"granted"===e.state||"prompt"===e.state}return!1})),j={"pre-script":async()=>(await o.e(1394).then(o.t.bind(o,11394,17))).default,"postman-collection":async()=>(await o.e(9963).then(o.t.bind(o,69963,17))).default,chai:async()=>(await Promise.all([o.e(4328),o.e(6621)]).then(o.bind(o,56621))).chaiTypeDef,jsLib:async()=>(await o.e(974).then(o.bind(o,30974))).es2015TypeDefs,node:async()=>(await Promise.all([o.e(7933),o.e(9864)]).then(o.bind(o,29864))).nodeJsTypeDef,"tests-script":async()=>(await o.e(6773).then(o.t.bind(o,16773,17))).default};var R=o(80809),z=o(52322);const{PerfContext:_,PerformanceMarkPaint:U}=R.perfComponents,q=()=>{performance.measure(A,{},B.GENERIC_EDITOR_PAINT_MARK),(0,R.sendMeasureEvent)({name:B.WS_MESSAGE_EDITOR_PAINT_TIME})};let G={},K={},Q=!1,$=!1,Z=!1;function J(e){if(s&&0!==e.length)for(const t of e)s.editor.defineTheme(t.id,t.props)}function Y(e){let t=k().find((t=>t.type===e.type));t&&s.editor.defineTheme(t.type,t.props),s.editor.setTheme(e.type||"light")}function X(e,t){return{getLineCount:function(){return e.getLineCount()},getLineContent:function(t){return e.getLineContent(t)},getLinesContent:function(){return e.getLinesContent()},getCurrentLine:function(){return e.getLineContent(t.lineNumber)},getValue:function(){return e.getValue()},getWordAtPosition:function(t){return e.getWordAtPosition(t)},getCurrentWord:function(){return e.getWordAtPosition(t)},getWordBeforePosition:function(t){return e.getWordUntilPosition(t)},getUri:function(){return e.uri},deltaDecorations:function(t,o){return e.deltaDecorations(t,o)},getValueInRange:function(t){return e.getValueInRange(t)}}}class ee extends n.Component{constructor(e){super(e),this.state={activeView:b,isMounted:!1,height:0,placeHolderVisible:!1},this.deferredQueue=[],this.placeHolderDomNode=null,this.decorations=[],this.codeCompletionProviderDisposables={},this.definitionProviderDisposables={},this.hoverProviderDisposables={},this.throttledRefresh=function(e,t,o){let i=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(o)&&(i="leading"in o?!!o.leading:i,n="trailing"in o?!!o.trailing:n),function(e,t,o){let i,n,r,s,d,l,u=0,g=!1,c=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=+t||0,a(o)){if(g=!!o.leading,c="maxWait"in o,c){const e=o.maxWait||0;r=Math.max(+e,t)}h="trailing"in o?!!o.trailing:h}function p(t){const o=i,r=n;return i=n=void 0,u=t,s=e.apply(r,o),s}function f(e,t){return setTimeout(e,t)}function m(e){const o=e-l;return void 0===l||o>=t||o<0||c&&e-u>=r}function y(){const e=Date.now();if(m(e))return k(e);d=f(y,function(e){const o=e-u,i=t-(e-l);return c?Math.min(i,r-o):i}(e))}function k(e){return d=void 0,h&&i?p(e):(i=n=void 0,s)}function b(...e){const o=Date.now(),r=m(o);if(i=e,n=this,l=o,r){if(void 0===d)return function(e){return u=e,d=f(y,t),g?p(e):s}(l);if(c)return d=f(y,t),p(l)}return void 0===d&&(d=f(y,t)),s}return b.cancel=function(){void 0!==d&&clearTimeout(d),u=0,i=l=n=d=void 0},b.flush=function(){return void 0===d?s:k(Date.now())},b.pending=function(){return void 0!==d},b}(e,100,{leading:i,trailing:n,maxWait:100})}(this.refresh.bind(this),0,{leading:!0,trailing:!0}),this.replaceMonacoModel=this.replaceMonacoModel.bind(this),this.handleValueUpdate=this.handleValueUpdate.bind(this),this.handleLanguageChange=this.handleLanguageChange.bind(this),this.openFindWidget=this.openFindWidget.bind(this),this.closeFindWidget=this.closeFindWidget.bind(this),this.copyToClipboard=this.copyToClipboard.bind(this),this.handleViewChange=this.handleViewChange.bind(this),this.prettify=this.prettify.bind(this),this.beautifyContent=this.beautifyContent.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.isTextEditorView=this.isTextEditorView.bind(this),this.wrapWithEditorFeedback=this.wrapWithEditorFeedback.bind(this),this.replaceAsPrettyModel=this.replaceAsPrettyModel.bind(this),this.getKeyMapHandlers=this.getKeyMapHandlers.bind(this),this.focus=this.focus.bind(this),this.focusEditor=this.focusEditor.bind(this),this.codeCompletionItemProvider=this.codeCompletionItemProvider.bind(this),this.definitionProvider=this.definitionProvider.bind(this),this.hoverProvider=this.hoverProvider.bind(this),this.handleSelectAll=this.handleSelectAll.bind(this),this.handleRedo=this.handleRedo.bind(this),this.handleUndo=this.handleUndo.bind(this),this.registerInstanceLevelSettings=this.registerInstanceLevelSettings.bind(this),this.disposeInstanceSettings=this.disposeInstanceSettings.bind(this),this.scrollEventListenerCallback=this.scrollEventListenerCallback.bind(this),this.hideParameterHintsWidget=this.hideParameterHintsWidget.bind(this)}disposeInstanceSettings(){this.instanceSettingsDisposerObject&&this.instanceSettingsDisposerObject.dispose(),this.instanceSettingsDisposerObject=null}transformSchemas(e,t){let o=[];return e.length>0&&(o=e.map((e=>{let o={};return o=e.isReferencedBy?e:(0,i.Z)({},e,{fileMatch:[t]}),delete o.isReferencedBy,o}))),o}registerInstanceLevelSettings(e){switch(this.props.language){case"postman_json":var t;this.instanceSettingsDisposerObject=s.languages.postman_json.postmanJsonDefaults.setInstanceSettings(e,(0,i.Z)({},this.props.settings,{schemas:this.transformSchemas((null==(t=this.props)||null==(t=t.settings)?void 0:t.schemas)||[],e)}));break;case"json":var o;this.instanceSettingsDisposerObject=s.languages.postman_json.jsonDefaults.setInstanceSettings(e,(0,i.Z)({},this.props.settings,{schemas:this.transformSchemas((null==(o=this.props)||null==(o=o.settings)?void 0:o.schemas)||[],e)}));break;case"yaml":var n;this.instanceSettingsDisposerObject=s.languages.yaml.yamlDefaults.setInstanceSettings(e,(0,i.Z)({},this.props.settings,{schemas:this.transformSchemas((null==(n=this.props)||null==(n=n.settings)?void 0:n.schemas)||[],e)}));break;case"xml":this.instanceSettingsDisposerObject=s.languages.xml.xmlDefaults.setInstanceSettings(e,this.props.settings)}}componentDidMount(){if(!this._node)return;this.state.isMounted&&this.setState({isMounted:!1}),!Z&&(function(){if(!document.querySelector("#monaco-overflowing-widgets-container")){let e=document.createElement("div");e.id="monaco-overflowing-widgets-container",e.classList.add("monaco-editor"),document.querySelector("body").append(e)}}(),G={lineHeight:s.editor.EditorOption.lineHeight,links:s.editor.EditorOption.links,layoutInfo:s.editor.EditorOption.layoutInfo},K={[C]:s.MarkerSeverity.Info,[F]:s.MarkerSeverity.Warning,[E]:s.MarkerSeverity.Error},s.languages.registerDocumentFormattingEditProvider("xml",{provideDocumentFormattingEdits(e){let t=e.getOptions(),o=t.insertSpaces?t.indentSize:"\t";return[{range:e.getFullModelRange(),text:p.xml(e.getValue(),o,!0)}]}}),J(k()),function(e){for(const t of P)W(e,t)}(s),s.languages.postman_json.jsonDefaults.setDiagnosticsOptions({validate:!0}),s.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0}),s.languages.typescript.javascriptDefaults.setCompilerOptions({target:s.languages.typescript.ScriptTarget.ES6,lib:["ES6"],allowNonTsExtensions:!0,allowJs:!0}),s.languages.registerLinkProvider("json",{provideLinks(e){let t=e.findMatches(/https?:\/\/[^\s"'<>]+/g,{},!0,!1,null,!0),o=e.findMatches(/\/[^\s"'<>]+/g,{},!0,!1,null,!0);return o=o.filter((e=>!t.some((t=>s.Range.intersectRanges(t.range,e.range))))),{links:o.map((function(e){return{range:e.range,url:e.matches[0]}}))}}}),Z=!0),this.editor=s.editor.create(this._node,this.getMonacoOptions()),Y(this.props.theme),this.setIndentation();let e=this.editor.getModel().uri.toString();this.props.settings&&this.registerInstanceLevelSettings(e),this.editorModelChangeDisposable=this.editor.onDidChangeModel((e=>{if(this.instanceLibsDisposable&&this.instanceLibsDisposable.dispose(),null===e.newModelUrl)return;let t=e.newModelUrl.toString();this.registerTypeDefinitions(t,this.props.language,this.props.typeDefinitionsProvider),this.setIndentation()})),this.props.onSelection&&this.editor.onDidChangeCursorSelection(this.props.onSelection),this.props.onClickInside&&this.editor.onMouseUp(this.props.onClickInside),this.props.onClickOnRef&&this.editor.onMouseDown(this.props.onClickOnRef),this.props.registerTextEditor&&this.props.registerTextEditor(this.editor),this.disposeInstanceOptions=function(e){if(!e)return;let t;if(!e.getOption(G.links))return;let i=e.getContribution("editor.linkDetector");if(!i)return;i.isEnabled=()=>!0,i.openLinkOccurrence=e=>{var o;let i=null==e||null==(o=e.link)||null==(o=o._link)?void 0:o.url;i&&("string"!=typeof i&&(i=i.toString(!0)),t=i)},Promise.resolve().then(o.bind(o,11724)).then((({ClickLinkGesture:e})=>{let t;e.prototype.onEditorMouseDown=function(e){t=e.target.position},e.prototype.onEditorMouseUp=function(e){let o=t,i=e.target.position;i&&o&&o.lineNumber===i.lineNumber&&o.column===i.column&&this._onExecute.fire(e)}}));let n=e.onMouseUp((({event:e})=>{let o=null;e.leftButton?o="left":e.middleButton?o="middle":e.rightButton&&(o="right"),t=null}));return function(){n&&n.dispose()}}(this.editor),this.registerCodeCompletion(this.props.language,this.props.codeCompletionProviders),this.registerTypeDefinitions(e,this.props.language,this.props.typeDefinitionsProvider),this.registerDefinitionProvider(this.props.language,this.props.definitionProviders),this.registerHoverProvider(this.props.language,this.props.hoverProviders),this.editorKeyDownDisposable=this.editor.onKeyDown((e=>{if((e.metaKey||e.ctrlKey)&&e.keyCode==s.KeyCode.Enter)if(e.stopPropagation(),this.props.onSubmit)this.props.onSubmit();else{let t=new e.browserEvent.constructor(e.browserEvent.type,e.browserEvent);this.editorContainer&&this.editorContainer.dispatchEvent&&this.editorContainer.dispatchEvent(t)}})),this.editor&&this.props.onCancel&&(this.editorCancelDisposable=this.editor.addAction({id:"editor-cancel",label:"escape",run:this.props.onCancel,keybindings:[s.KeyCode.Escape]})),this.editor&&!this.state.isMounted&&this.setState({isMounted:!0}),this.contentChangeListenerDisposable=this.editor.onDidChangeModelContent((()=>{let e=this.editor.getValue();this.props.onChange&&this.props.onChange(e),this.handlePlaceholder(d(e)),this.handleSuggestWidget()})),this.props.autoResize&&(this.contentSizeChangeListenerDisposable=this.editor.onDidContentSizeChange((e=>{this.attemptResize(e)}))),this.handleValueUpdate().then((()=>{this.handlePlaceholder(d(this.props.value)),this.executeDeferredActions()})),this.registerPmEventListeners(),this.resizeObserver=new ResizeObserver((()=>{this.refresh(),this.resizePlaceholder()})),this.resizeObserver.observe(this._node),this.props.readOnly||(this.intersectionObserver=new IntersectionObserver((e=>{for(const t of e)t.isIntersecting||this.hideParameterHintsWidget()})),this.intersectionObserver.observe(this._node)),$||(Promise.resolve().then(o.bind(o,25029)).then((e=>{let t=e.LanguageConfigurationRegistry.onDidChange((e=>{"javascript"!==e.languageIdentifier.language||$||($=!0,t&&t.dispose())}))})),Q||"javascript"===O(this.props.language)||(Q=!0)),Promise.resolve().then(o.bind(o,74134)).then((({DocumentFormattingEditProviderRegistry:e})=>{this.languageRegistryDisposer=e.onDidChange((()=>{this.shouldAutoFormat()&&this.state.activeView===b&&this.replaceAsPrettyModel(this.editor.getModel())}))})),window.addEventListener("scroll",this.scrollEventListenerCallback,!0)}componentWillUnmount(){if(window.removeEventListener("scroll",this.scrollEventListenerCallback,!0),this.editor)try{this.contentChangeListenerDisposable&&this.contentChangeListenerDisposable.dispose(),this.contentSizeChangeListenerDisposable&&this.contentSizeChangeListenerDisposable.dispose(),this.editorModelChangeDisposable&&this.editorModelChangeDisposable.dispose(),this.disposeInstanceSettings(),this.editor.getModel()&&this.editor.getModel().dispose(),this.disposeInstanceOptions&&this.disposeInstanceOptions(),this.disposeCodeCompletionProviders(),this.disposeDefinitionProviders(),this.disposeHoverProviders(),this.suggestWidgetShowDisposable&&this.suggestWidgetShowDisposable.dispose(),this.instanceLibsDisposable&&this.instanceLibsDisposable.dispose(),this.editorKeyDownDisposable&&this.editorKeyDownDisposable.dispose(),this.editorCancelDisposable&&this.editorCancelDisposable.dispose(),this.placeHolderDomNode&&this.placeHolderDomNode.removeEventListener("click",this.focus),this.placeHolderDomNode=null,this.editor.dispose()}catch(e){}this.unregisterPmEventListeners(),this.resizeObserver&&this.resizeObserver.disconnect(),this.intersectionObserver&&this.intersectionObserver.disconnect(),this.languageRegistryDisposer&&this.languageRegistryDisposer.dispose()}componentDidUpdate(e){this.editor?(e.value!==this.props.value?this.handleValueUpdate():e.language!==this.props.language&&this.handleLanguageChange(),e.wordWrap===this.props.wordWrap&&e.readOnly===this.props.readOnly||this.editor.updateOptions(this.getMonacoOptions()),e.validationErrors!==this.props.validationErrors&&this.editor&&function(e,t){let o=t.map((e=>({startLineNumber:e.startLineNumber,endLineNumber:e.endLineNumber,startColumn:e.startColumn,endColumn:e.endColumn,message:e.message,severity:e.severity||K[e.level]})));s.editor.setModelMarkers(e,"postman",o)}(this.editor.getModel(),this.props.validationErrors),e.language!==this.props.language&&(this.registerCodeCompletion(this.props.language,this.props.codeCompletionProviders),this.registerDefinitionProvider(this.props.language,this.props.definitionProviders),this.registerHoverProvider(this.props.language,this.props.definitionProviders),this.disposeInstanceSettings()),u(e.settings,this.props.settings)||(this.disposeInstanceSettings(),this.registerInstanceLevelSettings(this.editor.getModel().uri.toString())),u(this.props.indentation,e.indentation)||this.setIndentation(),this.props.theme!==e.theme&&Y(this.props.theme)):console.warn("TextEditor~componentDidUpdate - Editor instance not set")}scrollEventListenerCallback(e){if(!this.editor)return;let t=this.editor.getDomNode();if(t&&!t.contains(e.target)&&this.editor._contentWidgets)for(const[,e]of Object.entries(this.editor._contentWidgets))e&&e.widget&&e.widget.hideWidget&&"function"==typeof e.widget.hideWidget&&e.widget.hideWidget()}executeDeferredActions(){for(;this.deferredQueue.length>0;){let e=this.deferredQueue.shift();"function"==typeof e&&e.apply(this)}}handleSuggestWidget(){if(this.suggestWidgetShowDisposable)return null;let e=this.editor._contentWidgets["editor.widget.suggestWidget"]&&this.editor._contentWidgets["editor.widget.suggestWidget"].widget;e&&(this.suggestWidgetShowDisposable=e.onDidShow((()=>{this.hideParameterHintsWidget()})))}hideParameterHintsWidget(){let e=this.editor._contentWidgets["editor.widget.parameterHintsWidget"]&&this.editor._contentWidgets["editor.widget.parameterHintsWidget"].widget;e&&e.visible&&e.cancel&&e.cancel()}getQuickSuggestionsConfig(){return{other:!0,strings:!0,comments:!1}}getIndentationSettingValue(e){switch(e){case"editorIndentType":return"space"===(this.props.indentation&&this.props.indentation.indentationType?this.props.indentation.indentationType:M(e));case"editorIndentCount":return this.props.indentation&&this.props.indentation.indentationSize?this.props.indentation.indentationSize:M(e)}}getMonacoOptions(){var e;return{value:this.props.value,minimap:{enabled:!1},readOnly:this.props.readOnly,scrollBeyondLastLine:!1,lineNumbers:this.state.activeView!==b||this.props.hideLineNumbers?"off":"on",wordWrap:this.state.activeView===b&&!1===this.props.wordWrap?"off":"on",fontFamily:M("editorFontFamily"),language:O(this.props.language),links:!!this.props.enableLinks,quickSuggestions:!this.props.hideSuggestions&&this.getQuickSuggestionsConfig(),scrollbar:{vertical:this.props.autoResize||"both"===this.props.hideScrollbar||"vertical"===this.props.hideScrollbar?"hidden":"auto",horizontal:"both"===this.props.hideScrollbar||"horizontal"===this.props.hideScrollbar?"hidden":"auto",alwaysConsumeMouseWheel:!1},wordWrapMinified:!1,wrappingIndent:null!=(e=this.props.wrappingIndent)?e:this.state.activeView===v||"markdown"===O(this.props.language)?"none":"indent",renderIndentGuides:"markdown"!==O(this.props.language),glyphMargin:this.props.glyphMargin||!1,folding:!this.props.hideCodeFolding,extraEditorClassName:this.props.customEditorClassName||"",renderLineHighlight:this.props.hideCurrentLineHighlight?"none":"line",overviewRulerLanes:this.props.autoResize?0:3,overviewRulerBorder:!this.props.autoResize,lineDecorationsWidth:4,fontSize:M("responseFontSize"),lineHeight:1.5*M("responseFontSize"),detectIndentation:!1,insertSpaces:this.getIndentationSettingValue("editorIndentType"),tabSize:this.getIndentationSettingValue("editorIndentCount"),autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",renderWhitespace:!0===this.props.showNonPrintableCharacters?"all":"none",renderControlCharacters:this.props.showNonPrintableCharacters,overflowWidgetsDomNode:document.querySelector("#monaco-overflowing-widgets-container"),fixedOverflowWidgets:!0}}shouldAutoFormat(){return this.props.readOnly&&this.props.autoFormat}handleSelectAll(e){e&&e.closest(".monaco-editor")===this.editor.getDomNode()&&this.editor.trigger("Context Menu","selectAll")}handleRedo(e){e&&e.closest(".monaco-editor")===this.editor.getDomNode()&&this.editor.trigger("Context Menu","redo")}handleUndo(e){e&&e.closest(".monaco-editor")===this.editor.getDomNode()&&this.editor.trigger("Context Menu","undo")}insertTextBlock(e){let t=this.editor,o=t.getPosition(),i=t.getModel(),n=i.getLineLength(o.lineNumber),r=n>0,s=r?o.lineNumber+1:o.lineNumber,a=i.getEOL(),d={startLineNumber:r?o.lineNumber:s,startColumn:r?n+1:0,endLineNumber:r?o.lineNumber:s,endColumn:r?n+a.length:0};t.executeEdits("",[{range:d,text:r?a+e:e,forceMoveMarkers:!0}]);let l=t.getPosition(),u={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:l.lineNumber,endColumn:l.column};this.focus(),t.setSelection(u),t.getAction("editor.action.formatSelection").run(),t.setPosition(l)}insertTextBlockAtPosition(e,t){let o=this.editor;t&&(o.setPosition({lineNumber:t.lineNumber,column:t.column}),this.insertTextBlock(e))}beautifyContent(){this.editor.getAction("editor.action.formatDocument").run()}handleLanguageChange(){this.handleValueUpdate()}registerCodeCompletion(e,t){function o(e,t){let o=O(e);this.codeCompletionProviderDisposables[o]||(this.codeCompletionProviderDisposables[o]=s.languages.registerCompletionItemProvider(o,{provideCompletionItems:t}))}if(Array.isArray(t))for(const i of t)(i.lang&&i.lang===e&&i.provider||!i.lang&&i.provider)&&o.call(this,e,this.codeCompletionItemProvider)}async codeCompletionItemProvider(e,t){if(e.id!==this.editor.getModel().id)return;let o=e.getLanguageIdentifier().language,i=[];if(Array.isArray(this.props.codeCompletionProviders))for(const n of this.props.codeCompletionProviders)(n.lang&&O(n.lang)===o&&n.provider||!n.lang&&n.provider)&&(i=i.concat(await n.provider(X(e,t),t)));return{suggestions:i}}registerTypeDefinitions(e,t,o){if("javascript"!==t)return;const i=Array.isArray(this.props.typeDefinitionTypes)?Promise.all(this.props.typeDefinitionTypes.map((e=>{if("string"==typeof e){if(j[e])return j[e]().then((t=>({id:e,content:t})));console.error(`There is no such a type definitions: "${e}"`)}return"function"==typeof e?e():"object"==typeof e&&e.id&&e.content?e:void 0}))):[];("function"==typeof o||Array.isArray(this.props.typeDefinitionTypes))&&Promise.all(["function"==typeof o?o():[],i]).then((t=>{const o=t.reduce(((e,t)=>Array.isArray(t)?[...e,...t.filter(Boolean).map((e=>({filePath:e.id,content:e.content})))]:e),[]);this.instanceLibsDisposable=s.languages.typescript.javascriptDefaults.setInstanceLibs(e,o)}))}updateTypeDefinitions(e){this.registerTypeDefinitions(e,this.props.language,this.props.typeDefinitionsProvider)}registerDefinitionProvider(e,t){function o(e,t){let o=O(e);this.definitionProviderDisposables[o]||(this.definitionProviderDisposables[o]=s.languages.registerDefinitionProvider(o,{provideDefinition:t}))}if(Array.isArray(t))for(const i of t)(i.lang&&i.lang===e&&i.provider||!i.lang&&i.provider)&&o.call(this,e,this.definitionProvider)}definitionProvider(e,t){if(e.id!==this.editor.getModel().id)return;let o=[],i=e.getLanguageIdentifier().language;if(Array.isArray(this.props.definitionProviders))for(const n of this.props.definitionProviders)(n.lang&&O(n.lang)===i&&n.provider||!n.lang&&n.provider)&&o.push(n.provider(X(e,t),t));return o}registerHoverProvider(e,t){function o(e,t){const o=O(e);this.hoverProviderDisposables[o]||(this.hoverProviderDisposables[o]=s.languages.registerHoverProvider(o,{provideHover:t}))}if(Array.isArray(t))for(const i of t)(i.lang&&i.lang===e&&i.provider||!i.lang&&i.provider)&&o.call(this,e,this.hoverProvider)}hoverProvider(e,t){if(e.id!==this.editor.getModel().id)return;let o=[],i=e.getLanguageIdentifier().language;if(Array.isArray(this.props.hoverProviders))for(const n of this.props.hoverProviders)(n.lang&&O(n.lang)===i&&n.provider||!n.lang&&n.provider)&&(o=o.concat(n.provider(X(e,t),t)));return{contents:o}}handleValueUpdate(){return Promise.resolve().then((()=>{let e=this.props.value,t=this.editor.getModel(),o=t.getLanguageIdentifier().language!==O(this.props.language);if(!this.props.readOnly&&o&&s.editor.setModelLanguage(t,O(this.props.language)),this.props.readOnly&&this.state.activeView===b)try{let t=T[O(this.props.language)];t&&(e=t(e))}catch(e){}if(!this.props.readOnly&&this.editor&&this.editor.getValue()===l(e))return;let i=s.editor.createModel(e,this.state.activeView===b?O(this.props.language):"plaintext");if(this.setIndentation(i),this.shouldAutoFormat()&&this.state.activeView===b)return this.replaceAsPrettyModel(i);this.replaceMonacoModel(i)}))}replaceMonacoModel(e){if(e.isDisposed())return;let t=this.editor.getModel();t!==e&&(t&&this.editor.setModel(null),t&&t.dispose(),this.editor.setModel(e))}replaceAsPrettyModel(e){let t=Promise.resolve().then(o.bind(o,61857)).then((t=>this.editor._instantiationService.invokeFunction(t.formatDocumentWithSelectedProvider,e,!0)));return Promise.race([new Promise((function(e){setTimeout(e,300)})),this.wrapWithEditorFeedback(S,t)]).then((()=>{this.replaceMonacoModel(e)}))}initializeEditorSettingsHandlers(){this.handlers={};for(const e of D){let t=this.updateEditorOptions.bind(this,e);this.handlers[e]=t}}disposeEditorSettingsHandlers(){if(this.handlers){for(const e of D)this.handlers[e]=null;this.handlers=null}}setIndentation(e){if(!(e=e||this.editor.getModel()))return;let t=this.getIndentationSettingValue("editorIndentType"),o=this.getIndentationSettingValue("editorIndentCount");e.updateOptions({insertSpaces:t,tabSize:o})}updateEditorOptions(e){let t=M(e);switch(e){case"editorFontFamily":return void this.editor.updateOptions({fontFamily:t});case"responseFontSize":return void this.editor.updateOptions({fontSize:t,lineHeight:1.5*t});case"editorIndentCount":case"editorIndentType":return void this.setIndentation();case"editorAutoCloseBrackets":return void this.editor.updateOptions({autoClosingBrackets:t?"languageDefined":"never"});case"editorAutoCloseQuotes":return void this.editor.updateOptions({autoClosingQuotes:t?"languageDefined":"never"});case"editorRenderNonPrintable":return void this.editor.updateOptions({renderWhitespace:t,renderControlCharacters:t});default:return}}registerPmEventListeners(){this.initializeEditorSettingsHandlers()}unregisterPmEventListeners(){this.disposeEditorSettingsHandlers()}disposeCodeCompletionProviders(){for(let[,e]of Object.entries(this.codeCompletionProviderDisposables))e&&e.dispose&&e.dispose();this.codeCompletionProviderDisposables=null}disposeDefinitionProviders(){for(let[,e]of Object.entries(this.definitionProviderDisposables))e&&e.dispose&&e.dispose();this.definitionProviderDisposables=null}disposeHoverProviders(){for(let[,e]of Object.entries(this.hoverProviderDisposables))e&&e.dispose&&e.dispose();this.hoverProviderDisposables=null}getCurrentModelLanguage(){let e=this.editor.getModel();return e&&e.getLanguageIdentifier().language}attemptResize(e){if(this.state.height!==e.contentHeight){this.useRawRefresh=!0;let t=e.contentHeight;this.props.minHeight&&"number"==typeof this.props.minHeight&&(t=Math.max(e.contentHeight,this.props.minHeight)),this.props.maxHeight&&"number"==typeof this.props.maxHeight&&(t=Math.min(t,this.props.maxHeight)),this.setState({height:t})}}handlePlaceholder(e){if(this.props.placeholder&&this.editor){if(!this.placeHolderDomNode){let e=this.editor.getDomNode().querySelector(".lines-content");if(e){e.append(this.getPlaceholderSpan());let t=this.editor.getDomNode().querySelector(".monaco-placeholder");t&&t.addEventListener("click",this.focus),this.placeHolderDomNode=t}}if(e){if(this.state.placeHolderVisible)return;this.showPlaceholder()}else this.hidePlaceholder()}}showPlaceholder(){this.resizePlaceholder(),this.placeHolderDomNode.style.display="block",this.setState({placeHolderVisible:!0})}hidePlaceholder(){this.placeHolderDomNode.style.display="none",this.setState({placeHolderVisible:!1})}resizePlaceholder(){this.editor&&this.placeHolderDomNode&&(this.placeHolderDomNode.style.width=`${this.editor.getLayoutInfo().contentWidth}px`)}getPlaceholderSpan(){let e=document.createElement("span");return e.className="monaco-placeholder",e.style.fontFamily=M("editorFontFamily")||'Menlo, Monaco, "Courier New", monospace',e.style.display="none",e.textContent=this.props.placeholder,e}refresh(){this.editor&&null!==this.editor.getDomNode().offsetParent&&this.editor.layout()}openFindWidget(){var e;null==(e=this.editor)||e.getAction("actions.find").run()}closeFindWidget(){var e;null==(e=this.editor)||e.trigger("keyboard","closeFindWidget")}toggleFindWidget(){var e;(null==(e=this.editor)||null==(e=e._overlayWidgets)||null==(e=e["editor.contrib.findWidget"])||null==(e=e.widget)?void 0:e._isVisible)?this.closeFindWidget():this.openFindWidget()}async copyToClipboard(){H(!0)&&await navigator.clipboard.writeText(this.editor.getValue())}handleViewChange(e){e!==this.state.activeView&&this.setState({activeView:e},(()=>{this.editor.updateOptions(this.getMonacoOptions()),this.isTextEditorView()&&this.handleValueUpdate()}))}prettify(){this.editor.updateOptions({readOnly:!1});let e=this.editor.getAction("editor.action.formatDocument").run().then((()=>{this.editor.updateOptions({readOnly:!0})})).catch((()=>{this.editor.updateOptions({readOnly:!0})}));this.wrapWithEditorFeedback(S,e)}getEditorStyles(){return{width:this.props.width||"100%",height:this.props.autoResize?`${this.state.height}px`:this.props.height||"100%"}}getEditorNodeStyles(){if(this.state.activeView===b||this.state.activeView===v){let e="100%";return this.props.autoResize&&(e=`${this.state.height}px`),{display:"flex",flex:1,flexDirection:"column",width:"100%",height:e}}return{display:"none"}}focus(){this.editor?this.focusEditor():this.deferredQueue.push(this.focusEditor)}focusEditor(){setTimeout((()=>{this.editor&&null===this.editor.getDomNode().offsetParent||this.editor&&this.editor.focus()}),100)}handleContextMenu(e){"textarea"===e.target.type&&e.target.closest(".find-widget")||this.focus()}isTextEditorView(){return this.state.activeView===b||this.state.activeView===v}wrapWithEditorFeedback(e,t){if(!e||!t)return;let o=setTimeout((()=>{i=!0,this.setState({editorFeedbackMessage:e})}),300),i=!1;return t.then((()=>{clearTimeout(o),i&&this.setState({editorFeedbackMessage:""})})).catch((e=>{throw clearTimeout(o),i&&this.setState({editorFeedbackMessage:""}),e}))}getKeyMapHandlers(){return{handleFoldAll:()=>{this.editor.getAction("editor.foldAll").run()},handleUnfoldAll:()=>{this.editor.getAction("editor.unfoldAll").run()},handleFoldSelection:()=>{this.editor.getAction("editor.fold").run()},handleUnfoldSelection:()=>{this.editor.getAction("editor.unfold").run()},handleJumpToMatchingBracket:()=>{this.editor.getAction("editor.action.jumpToBracket").run()},handleFormatDocument:()=>{this.editor.getAction("editor.action.formatDocument").run()},handleDeleteLine:()=>{this.editor.getAction("editor.action.deleteLines").run()},handleDuplicateSelection:()=>{this.editor.getAction("editor.action.copyLinesDownAction").run()},handleToUpperCase:()=>{this.editor.getAction("editor.action.transformToUppercase").run()},handleToLowerCase:()=>{this.editor.getAction("editor.action.transformToLowercase").run()},handleSelectionToBracket:()=>{this.editor.getAction("editor.action.selectToBracket").run()},handleToggleComment:()=>{}}}renderCustomView(){let e=null;if(Array.isArray(this.props.customTabs)){for(const t of this.props.customTabs){if("string"!=typeof t.name||"function"!=typeof t.renderContent)return;this.state.activeView===t.name&&(e=t.renderContent())}return e}}render(){return(0,z.jsxs)("div",{className:"text-editor",style:this.getEditorStyles(),ref:e=>this.editorContainer=e,"data-testid":"code-editor",children:[(0,z.jsx)("div",{ref:e=>this._node=e,style:this.getEditorNodeStyles(),onContextMenu:this.handleContextMenu}),!this.props.hideActionBar&&this.renderCustomView(),!this.state.isMounted&&(0,z.jsx)("div",{children:"LOADING"})]})}}const te=r().forwardRef(((e,t)=>{const o=(0,N.usePostmanTheme)(),{markName:r,callback:s}=(0,n.useContext)(_);return(0,z.jsx)(U,{markName:r||A,callback:s||q,children:(0,z.jsx)(ee,(0,i.Z)({ref:t},e,{theme:{id:null==o?void 0:o.id,type:null==o?void 0:o.name}}))})}))}}]);
//# sourceMappingURL=text-editor.3df9df751004a718.js.map